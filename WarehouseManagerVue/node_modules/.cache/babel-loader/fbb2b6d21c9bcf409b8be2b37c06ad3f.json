{"remainingRequest":"D:\\java仓库管理\\java仓库管理\\仓库管理系统\\WarehouseManager\\源代码\\WarehouseManager\\WarehouseManagerVue\\node_modules\\babel-loader\\lib\\index.js!D:\\java仓库管理\\java仓库管理\\仓库管理系统\\WarehouseManager\\源代码\\WarehouseManager\\WarehouseManagerVue\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\java仓库管理\\java仓库管理\\仓库管理系统\\WarehouseManager\\源代码\\WarehouseManager\\WarehouseManagerVue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\java仓库管理\\java仓库管理\\仓库管理系统\\WarehouseManager\\源代码\\WarehouseManager\\WarehouseManagerVue\\src\\components\\record\\RecordManage.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\java仓库管理\\java仓库管理\\仓库管理系统\\WarehouseManager\\源代码\\WarehouseManager\\WarehouseManagerVue\\src\\components\\record\\RecordManage.vue","mtime":1719912080800},{"path":"D:\\java仓库管理\\java仓库管理\\仓库管理系统\\WarehouseManager\\源代码\\WarehouseManager\\WarehouseManagerVue\\babel.config.js","mtime":1677915063811},{"path":"D:\\java仓库管理\\java仓库管理\\仓库管理系统\\WarehouseManager\\源代码\\WarehouseManager\\WarehouseManagerVue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1677927572803},{"path":"D:\\java仓库管理\\java仓库管理\\仓库管理系统\\WarehouseManager\\源代码\\WarehouseManager\\WarehouseManagerVue\\node_modules\\babel-loader\\lib\\index.js","mtime":1677927576192},{"path":"D:\\java仓库管理\\java仓库管理\\仓库管理系统\\WarehouseManager\\源代码\\WarehouseManager\\WarehouseManagerVue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1677927572803},{"path":"D:\\java仓库管理\\java仓库管理\\仓库管理系统\\WarehouseManager\\源代码\\WarehouseManager\\WarehouseManagerVue\\node_modules\\vue-loader\\lib\\index.js","mtime":1677927577316}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICogYXMgZWNoYXJ0cyBmcm9tICdlY2hhcnRzJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJSZWNvcmRNYW5hZ2UiLAoKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdXNlcjogSlNPTi5wYXJzZShzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCJDdXJVc2VyIikpLAogICAgICBzdG9yYWdlRGF0YTogW10sCiAgICAgIGdvb2RzdHlwZURhdGE6IFtdLAogICAgICB0YWJsZURhdGE6IFtdLAogICAgICBwYWdlU2l6ZTogMTAsCiAgICAgIHBhZ2VOdW06IDEsCiAgICAgIHRvdGFsOiAwLAogICAgICBuYW1lOiAiIiwKICAgICAgc3RvcmFnZTogIiIsCiAgICAgIGdvb2RzdHlwZTogIiIsCiAgICAgIGNoYXJ0SW46IG51bGwsCiAgICAgIGNoYXJ0T3V0OiBudWxsLAogICAgICBjZW50ZXJEaWFsb2dWaXNpYmxlOiBmYWxzZSwKICAgICAgZm9ybTogewogICAgICAgIGlkOiAiIiwKICAgICAgICBuYW1lOiAiIiwKICAgICAgICBzdG9yYWdlOiAiIiwKICAgICAgICBnb29kc3R5cGU6ICIiLAogICAgICAgIGNvdW50OiAiIiwKICAgICAgICByZW1hcms6ICIiCiAgICAgIH0KICAgIH07CiAgfSwKCiAgbWV0aG9kczogewogICAgZm9ybWF0U3RvcmFnZShyb3cpIHsKICAgICAgbGV0IHRlbXAgPSB0aGlzLnN0b3JhZ2VEYXRhLmZpbmQoaXRlbSA9PiB7CiAgICAgICAgcmV0dXJuIGl0ZW0uaWQgPT0gcm93LnN0b3JhZ2U7CiAgICAgIH0pOwogICAgICByZXR1cm4gdGVtcCAmJiB0ZW1wLm5hbWU7CiAgICB9LAoKICAgIGZvcm1hdEdvb2RzdHlwZShyb3cpIHsKICAgICAgbGV0IHRlbXAgPSB0aGlzLmdvb2RzdHlwZURhdGEuZmluZChpdGVtID0+IHsKICAgICAgICByZXR1cm4gaXRlbS5pZCA9PSByb3cuZ29vZHN0eXBlOwogICAgICB9KTsKICAgICAgcmV0dXJuIHRlbXAgJiYgdGVtcC5uYW1lOwogICAgfSwKCiAgICByZXNldEZvcm0oKSB7CiAgICAgIHRoaXMuJHJlZnMuZm9ybS5yZXNldEZpZWxkcygpOwogICAgfSwKCiAgICBoYW5kbGVTaXplQ2hhbmdlKHZhbCkgewogICAgICBjb25zb2xlLmxvZyhg5q+P6aG1ICR7dmFsfSDmnaFgKTsKICAgICAgdGhpcy5wYWdlTnVtID0gMTsKICAgICAgdGhpcy5wYWdlU2l6ZSA9IHZhbDsKICAgICAgdGhpcy5sb2FkUG9zdCgpOwogICAgfSwKCiAgICBoYW5kbGVDdXJyZW50Q2hhbmdlKHZhbCkgewogICAgICBjb25zb2xlLmxvZyhg5b2T5YmN6aG1OiAke3ZhbH1gKTsKICAgICAgdGhpcy5wYWdlTnVtID0gdmFsOwogICAgICB0aGlzLmxvYWRQb3N0KCk7CiAgICB9LAoKICAgIHJlc2V0UGFyYW0oKSB7CiAgICAgIHRoaXMubmFtZSA9ICIiOwogICAgICB0aGlzLnN0b3JhZ2UgPSAiIjsKICAgICAgdGhpcy5nb29kc3R5cGUgPSAiIjsKICAgIH0sCgogICAgbG9hZFN0b3JhZ2UoKSB7CiAgICAgIHRoaXMuJGF4aW9zLmdldCh0aGlzLiRodHRwVXJsICsgIi9zdG9yYWdlL2xpc3QiKS50aGVuKHJlcyA9PiByZXMuZGF0YSkudGhlbihyZXMgPT4gewogICAgICAgIGNvbnNvbGUubG9nKHJlcyk7CgogICAgICAgIGlmIChyZXMuY29kZSA9PSAyMDApIHsKICAgICAgICAgIHRoaXMuc3RvcmFnZURhdGEgPSByZXMuZGF0YTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgYWxlcnQoIuiOt+WPluaVsOaNruWksei0pSIpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAoKICAgIGxvYWRHb29kc3R5cGUoKSB7CiAgICAgIHRoaXMuJGF4aW9zLmdldCh0aGlzLiRodHRwVXJsICsgIi9nb29kc3R5cGUvbGlzdCIpLnRoZW4ocmVzID0+IHJlcy5kYXRhKS50aGVuKHJlcyA9PiB7CiAgICAgICAgY29uc29sZS5sb2cocmVzKTsKCiAgICAgICAgaWYgKHJlcy5jb2RlID09IDIwMCkgewogICAgICAgICAgdGhpcy5nb29kc3R5cGVEYXRhID0gcmVzLmRhdGE7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGFsZXJ0KCLojrflj5bmlbDmja7lpLHotKUiKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKCiAgICBsb2FkUG9zdCgpIHsKICAgICAgdGhpcy4kYXhpb3MucG9zdCh0aGlzLiRodHRwVXJsICsgIi9yZWNvcmQvbGlzdFBhZ2UiLCB7CiAgICAgICAgcGFnZVNpemU6IHRoaXMucGFnZVNpemUsCiAgICAgICAgcGFnZU51bTogdGhpcy5wYWdlTnVtLAogICAgICAgIHBhcmFtOiB7CiAgICAgICAgICBuYW1lOiB0aGlzLm5hbWUsCiAgICAgICAgICBnb29kc3R5cGU6IHRoaXMuZ29vZHN0eXBlICsgIiIsCiAgICAgICAgICBzdG9yYWdlOiB0aGlzLnN0b3JhZ2UgKyAiIiwKICAgICAgICAgIHJvbGVJZDogdGhpcy51c2VyLnJvbGVJZCArICIiLAogICAgICAgICAgdXNlcklkOiB0aGlzLnVzZXIuaWQgKyAiIgogICAgICAgIH0KICAgICAgfSkudGhlbihyZXMgPT4gcmVzLmRhdGEpLnRoZW4ocmVzID0+IHsKICAgICAgICBjb25zb2xlLmxvZyhyZXMpOwoKICAgICAgICBpZiAocmVzLmNvZGUgPT0gMjAwKSB7CiAgICAgICAgICB0aGlzLnRhYmxlRGF0YSA9IHJlcy5kYXRhOwogICAgICAgICAgdGhpcy50b3RhbCA9IHJlcy50b3RhbDsKICAgICAgICAgIHRoaXMuY3JlYXRlQ2hhcnQoKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgYWxlcnQoIuiOt+WPluaVsOaNruWksei0pSIpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAoKICAgIGNyZWF0ZUNoYXJ0KCkgewogICAgICBpZiAoIXRoaXMuY2hhcnRJbikgewogICAgICAgIHRoaXMuY2hhcnRJbiA9IGVjaGFydHMuaW5pdChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2hhcnQtaW4nKSk7CiAgICAgIH0KCiAgICAgIGlmICghdGhpcy5jaGFydE91dCkgewogICAgICAgIHRoaXMuY2hhcnRPdXQgPSBlY2hhcnRzLmluaXQoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NoYXJ0LW91dCcpKTsKICAgICAgfQoKICAgICAgY29uc3QgZGF0YUluID0ge307CiAgICAgIGNvbnN0IGRhdGFPdXQgPSB7fTsKICAgICAgdGhpcy50YWJsZURhdGEuZm9yRWFjaChpdGVtID0+IHsKICAgICAgICBpZiAoaXRlbS5jb3VudCA+IDApIHsKICAgICAgICAgIGlmICghZGF0YUluW2l0ZW0uZ29vZHNuYW1lXSkgewogICAgICAgICAgICBkYXRhSW5baXRlbS5nb29kc25hbWVdID0gMDsKICAgICAgICAgIH0KCiAgICAgICAgICBkYXRhSW5baXRlbS5nb29kc25hbWVdICs9IGl0ZW0uY291bnQ7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGlmICghZGF0YU91dFtpdGVtLmdvb2RzbmFtZV0pIHsKICAgICAgICAgICAgZGF0YU91dFtpdGVtLmdvb2RzbmFtZV0gPSAwOwogICAgICAgICAgfQoKICAgICAgICAgIGRhdGFPdXRbaXRlbS5nb29kc25hbWVdICs9IE1hdGguYWJzKGl0ZW0uY291bnQpOwogICAgICAgIH0KICAgICAgfSk7CiAgICAgIGNvbnN0IGNoYXJ0RGF0YUluID0gT2JqZWN0LmtleXMoZGF0YUluKS5tYXAoa2V5ID0+ICh7CiAgICAgICAgbmFtZToga2V5LAogICAgICAgIHZhbHVlOiBkYXRhSW5ba2V5XQogICAgICB9KSk7CiAgICAgIGNvbnN0IGNoYXJ0RGF0YU91dCA9IE9iamVjdC5rZXlzKGRhdGFPdXQpLm1hcChrZXkgPT4gKHsKICAgICAgICBuYW1lOiBrZXksCiAgICAgICAgdmFsdWU6IGRhdGFPdXRba2V5XQogICAgICB9KSk7CiAgICAgIGNvbnN0IG9wdGlvbkluID0gewogICAgICAgIHRpdGxlOiB7CiAgICAgICAgICB0ZXh0OiAn5YWl5bqTJywKICAgICAgICAgIGxlZnQ6ICdjZW50ZXInCiAgICAgICAgfSwKICAgICAgICB0b29sdGlwOiB7CiAgICAgICAgICB0cmlnZ2VyOiAnaXRlbScKICAgICAgICB9LAogICAgICAgIGxlZ2VuZDogewogICAgICAgICAgb3JpZW50OiAndmVydGljYWwnLAogICAgICAgICAgbGVmdDogJ2xlZnQnCiAgICAgICAgfSwKICAgICAgICBzZXJpZXM6IFt7CiAgICAgICAgICBuYW1lOiAn5YWl5bqT5pWw6YePJywKICAgICAgICAgIHR5cGU6ICdwaWUnLAogICAgICAgICAgcmFkaXVzOiAnNTAlJywKICAgICAgICAgIGRhdGE6IGNoYXJ0RGF0YUluLAogICAgICAgICAgZW1waGFzaXM6IHsKICAgICAgICAgICAgaXRlbVN0eWxlOiB7CiAgICAgICAgICAgICAgc2hhZG93Qmx1cjogMTAsCiAgICAgICAgICAgICAgc2hhZG93T2Zmc2V0WDogMCwKICAgICAgICAgICAgICBzaGFkb3dDb2xvcjogJ3JnYmEoMCwgMCwgMCwgMC41KScKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH1dCiAgICAgIH07CiAgICAgIGNvbnN0IG9wdGlvbk91dCA9IHsKICAgICAgICB0aXRsZTogewogICAgICAgICAgdGV4dDogJ+WHuuW6kycsCiAgICAgICAgICBsZWZ0OiAnY2VudGVyJwogICAgICAgIH0sCiAgICAgICAgdG9vbHRpcDogewogICAgICAgICAgdHJpZ2dlcjogJ2l0ZW0nCiAgICAgICAgfSwKICAgICAgICBsZWdlbmQ6IHsKICAgICAgICAgIG9yaWVudDogJ3ZlcnRpY2FsJywKICAgICAgICAgIGxlZnQ6ICdsZWZ0JwogICAgICAgIH0sCiAgICAgICAgc2VyaWVzOiBbewogICAgICAgICAgbmFtZTogJ+WHuuW6k+aVsOmHjycsCiAgICAgICAgICB0eXBlOiAncGllJywKICAgICAgICAgIHJhZGl1czogJzUwJScsCiAgICAgICAgICBkYXRhOiBjaGFydERhdGFPdXQsCiAgICAgICAgICBlbXBoYXNpczogewogICAgICAgICAgICBpdGVtU3R5bGU6IHsKICAgICAgICAgICAgICBzaGFkb3dCbHVyOiAxMCwKICAgICAgICAgICAgICBzaGFkb3dPZmZzZXRYOiAwLAogICAgICAgICAgICAgIHNoYWRvd0NvbG9yOiAncmdiYSgwLCAwLCAwLCAwLjUpJwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfV0KICAgICAgfTsKICAgICAgdGhpcy5jaGFydEluLnNldE9wdGlvbihvcHRpb25Jbik7CiAgICAgIHRoaXMuY2hhcnRPdXQuc2V0T3B0aW9uKG9wdGlvbk91dCk7CiAgICB9CgogIH0sCgogIGJlZm9yZU1vdW50KCkgewogICAgdGhpcy5sb2FkU3RvcmFnZSgpOwogICAgdGhpcy5sb2FkR29vZHN0eXBlKCk7CiAgICB0aGlzLmxvYWRQb3N0KCk7CiAgfQoKfTs="},{"version":3,"mappings":"AAyFA;AAEA;EACAA,oBADA;;EAEAC;IACA;MACAC,mDADA;MAEAC,eAFA;MAGAC,iBAHA;MAIAC,aAJA;MAKAC,YALA;MAMAC,UANA;MAOAC,QAPA;MAQAR,QARA;MASAS,WATA;MAUAC,aAVA;MAWAC,aAXA;MAYAC,cAZA;MAaAC,0BAbA;MAcAC;QACAC,MADA;QAEAf,QAFA;QAGAS,WAHA;QAIAC,aAJA;QAKAM,SALA;QAMAC;MANA;IAdA;EAuBA,CA1BA;;EA2BAC;IACAC;MACA;QACA;MACA,CAFA;MAIA;IACA,CAPA;;IAQAC;MACA;QACA;MACA,CAFA;MAIA;IACA,CAdA;;IAeAC;MACA;IACA,CAjBA;;IAkBAC;MACAC;MACA;MACA;MACA;IACA,CAvBA;;IAwBAC;MACAD;MACA;MACA;IACA,CA5BA;;IA6BAE;MACA;MACA;MACA;IACA,CAjCA;;IAkCAC;MACA,YACAC,GADA,CACA,+BADA,EAEAC,IAFA,CAEAC,eAFA,EAGAD,IAHA,CAGAC;QACAN;;QACA;UACA;QACA,CAFA,MAEA;UACAO;QACA;MACA,CAVA;IAWA,CA9CA;;IA+CAC;MACA,YACAJ,GADA,CACA,iCADA,EAEAC,IAFA,CAEAC,eAFA,EAGAD,IAHA,CAGAC;QACAN;;QACA;UACA;QACA,CAFA,MAEA;UACAO;QACA;MACA,CAVA;IAWA,CA3DA;;IA4DAE;MACA,YACAC,IADA,CACA,kCADA,EACA;QACA3B,uBADA;QAEAC,qBAFA;QAGA2B;UACAlC,eADA;UAEAU,8BAFA;UAGAD,0BAHA;UAIA0B,6BAJA;UAKAC;QALA;MAHA,CADA,EAYAR,IAZA,CAYAC,eAZA,EAaAD,IAbA,CAaAC;QACAN;;QACA;UACA;UACA;UACA;QACA,CAJA,MAIA;UACAO;QACA;MACA,CAtBA;IAuBA,CApFA;;IAqFAO;MACA;QACA;MACA;;MACA;QACA;MACA;;MAEA;MACA;MACA;QACA;UACA;YACAC;UACA;;UACAA;QACA,CALA,MAKA;UACA;YACAC;UACA;;UACAA;QACA;MACA,CAZA;MAcA;QACAvC,SADA;QAEAwC;MAFA;MAIA;QACAxC,SADA;QAEAwC;MAFA;MAKA;QACAC;UACAC,UADA;UAEAC;QAFA,CADA;QAKAC;UACAC;QADA,CALA;QAQAC;UACAC,kBADA;UAEAJ;QAFA,CARA;QAYAK,SACA;UACAhD,YADA;UAEAiD,WAFA;UAGAC,aAHA;UAIAjD,iBAJA;UAKAkD;YACAC;cACAC,cADA;cAEAC,gBAFA;cAGAC;YAHA;UADA;QALA,CADA;MAZA;MA6BA;QACAd;UACAC,UADA;UAEAC;QAFA,CADA;QAKAC;UACAC;QADA,CALA;QAQAC;UACAC,kBADA;UAEAJ;QAFA,CARA;QAYAK,SACA;UACAhD,YADA;UAEAiD,WAFA;UAGAC,aAHA;UAIAjD,kBAJA;UAKAkD;YACAC;cACAC,cADA;cAEAC,gBAFA;cAGAC;YAHA;UADA;QALA,CADA;MAZA;MA6BA;MACA;IACA;;EAlLA,CA3BA;;EA+MAC;IACA;IACA;IACA;EACA;;AAnNA","names":["name","data","user","storageData","goodstypeData","tableData","pageSize","pageNum","total","storage","goodstype","chartIn","chartOut","centerDialogVisible","form","id","count","remark","methods","formatStorage","formatGoodstype","resetForm","handleSizeChange","console","handleCurrentChange","resetParam","loadStorage","get","then","res","alert","loadGoodstype","loadPost","post","param","roleId","userId","createChart","dataIn","dataOut","value","title","text","left","tooltip","trigger","legend","orient","series","type","radius","emphasis","itemStyle","shadowBlur","shadowOffsetX","shadowColor","beforeMount"],"sourceRoot":"src/components/record","sources":["RecordManage.vue"],"sourcesContent":["<template>\r\n    <div class=\"record-page\">\r\n      <div style=\"margin-bottom: 5px\">\r\n        <el-input\r\n          v-model=\"name\"\r\n          placeholder=\"请输入物品名\"\r\n          suffix-icon=\"el-icon-a-042\"\r\n          style=\"width: 200px\"\r\n          @keyup.enter.native=\"loadPost\"\r\n        ></el-input>\r\n        <el-select\r\n          v-model=\"storage\"\r\n          placeholder=\"请选择仓库\"\r\n          style=\"margin-left: 5px\"\r\n        >\r\n          <el-option\r\n            v-for=\"item in storageData\"\r\n            :key=\"item.id\"\r\n            :label=\"item.name\"\r\n            :value=\"item.id\"\r\n          >\r\n          </el-option>\r\n        </el-select>\r\n        <el-select\r\n          v-model=\"goodstype\"\r\n          placeholder=\"请选择分类\"\r\n          style=\"margin-left: 5px\"\r\n        >\r\n          <el-option\r\n            v-for=\"item in goodstypeData\"\r\n            :key=\"item.id\"\r\n            :label=\"item.name\"\r\n            :value=\"item.id\"\r\n          >\r\n          </el-option>\r\n        </el-select>\r\n        <el-button\r\n          type=\"primary\"\r\n          style=\"margin-left: 5px; font-size: 18px\"\r\n          @click=\"loadPost\"\r\n        >\r\n          查询</el-button\r\n        >\r\n        <el-button\r\n          type=\"warning\"\r\n          style=\"font-size: 18px\"\r\n          @click=\"resetParam\"\r\n        >\r\n          重置</el-button\r\n        >\r\n      </div>\r\n      <div class=\"table-pagination-container\">\r\n        <div class=\"table\">\r\n            <el-table\r\n            :data=\"tableData\"\r\n            :header-cell-style=\"{ background: '#f2f5fc', color: '#555555' }\"\r\n            border\r\n            >\r\n            <el-table-column prop=\"id\" label=\"ID\" width=\"60\"></el-table-column>\r\n            <el-table-column prop=\"goodsname\" label=\"物品名\" width=\"150\"></el-table-column>\r\n            <el-table-column prop=\"storagename\" label=\"仓库\" width=\"150\"></el-table-column>\r\n            <el-table-column prop=\"goodstypename\" label=\"分类\" width=\"150\"></el-table-column>\r\n            <el-table-column prop=\"adminname\" label=\"操作人\" width=\"150\"></el-table-column>\r\n            <el-table-column prop=\"username\" label=\"申请人\" width=\"150\"></el-table-column>\r\n            <el-table-column prop=\"count\" label=\"数量\" width=\"150\"></el-table-column>\r\n            <el-table-column prop=\"createtime\" label=\"操作时间\" width=\"180\"></el-table-column>\r\n            <el-table-column prop=\"remark\" label=\"备注\"></el-table-column>\r\n            </el-table>\r\n        </div>\r\n        <div class=\"pagination-size\" style=\"margin-top: 5px; margin-left: 30%;\">\r\n            <el-pagination\r\n            @size-change=\"handleSizeChange\"\r\n            @current-change=\"handleCurrentChange\"\r\n            :current-page=\"pageNum\"\r\n            :page-sizes=\"[5, 10, 20, 30]\"\r\n            :page-size=\"pageSize\"\r\n            layout=\"total, sizes, prev, pager, next, jumper\"\r\n            :total=\"total\"\r\n            ></el-pagination>\r\n        </div>\r\n        <div class=\"chart-container\">\r\n            <div id=\"chart-in\" style=\"width: 600px; height: 400px;\"></div>\r\n            <div id=\"chart-out\" style=\"width: 600px; height: 400px;\"></div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport * as echarts from 'echarts';\r\n\r\nexport default {\r\n  name: \"RecordManage\",\r\n  data() {\r\n    return {\r\n      user: JSON.parse(sessionStorage.getItem(\"CurUser\")),\r\n      storageData: [],\r\n      goodstypeData: [],\r\n      tableData: [],\r\n      pageSize: 10,\r\n      pageNum: 1,\r\n      total: 0,\r\n      name: \"\",\r\n      storage: \"\",\r\n      goodstype: \"\",\r\n      chartIn: null,\r\n      chartOut: null,\r\n      centerDialogVisible: false,\r\n      form: {\r\n        id: \"\",\r\n        name: \"\",\r\n        storage: \"\",\r\n        goodstype: \"\",\r\n        count: \"\",\r\n        remark: \"\",\r\n      },\r\n    };\r\n  },\r\n  methods: {\r\n    formatStorage(row) {\r\n      let temp = this.storageData.find((item) => {\r\n        return item.id == row.storage;\r\n      });\r\n\r\n      return temp && temp.name;\r\n    },\r\n    formatGoodstype(row) {\r\n      let temp = this.goodstypeData.find((item) => {\r\n        return item.id == row.goodstype;\r\n      });\r\n\r\n      return temp && temp.name;\r\n    },\r\n    resetForm() {\r\n      this.$refs.form.resetFields();\r\n    },\r\n    handleSizeChange(val) {\r\n      console.log(`每页 ${val} 条`);\r\n      this.pageNum = 1;\r\n      this.pageSize = val;\r\n      this.loadPost();\r\n    },\r\n    handleCurrentChange(val) {\r\n      console.log(`当前页: ${val}`);\r\n      this.pageNum = val;\r\n      this.loadPost();\r\n    },\r\n    resetParam() {\r\n      this.name = \"\";\r\n      this.storage = \"\";\r\n      this.goodstype = \"\";\r\n    },\r\n    loadStorage() {\r\n      this.$axios\r\n        .get(this.$httpUrl + \"/storage/list\")\r\n        .then((res) => res.data)\r\n        .then((res) => {\r\n          console.log(res);\r\n          if (res.code == 200) {\r\n            this.storageData = res.data;\r\n          } else {\r\n            alert(\"获取数据失败\");\r\n          }\r\n        });\r\n    },\r\n    loadGoodstype() {\r\n      this.$axios\r\n        .get(this.$httpUrl + \"/goodstype/list\")\r\n        .then((res) => res.data)\r\n        .then((res) => {\r\n          console.log(res);\r\n          if (res.code == 200) {\r\n            this.goodstypeData = res.data;\r\n          } else {\r\n            alert(\"获取数据失败\");\r\n          }\r\n        });\r\n    },\r\n    loadPost() {\r\n      this.$axios\r\n        .post(this.$httpUrl + \"/record/listPage\", {\r\n          pageSize: this.pageSize,\r\n          pageNum: this.pageNum,\r\n          param: {\r\n            name: this.name,\r\n            goodstype: this.goodstype + \"\",\r\n            storage: this.storage + \"\",\r\n            roleId: this.user.roleId + \"\",\r\n            userId: this.user.id + \"\",\r\n          },\r\n        })\r\n        .then((res) => res.data)\r\n        .then((res) => {\r\n          console.log(res);\r\n          if (res.code == 200) {\r\n            this.tableData = res.data;\r\n            this.total = res.total;\r\n            this.createChart();\r\n          } else {\r\n            alert(\"获取数据失败\");\r\n          }\r\n        });\r\n    },\r\n    createChart() {\r\n      if (!this.chartIn) {\r\n        this.chartIn = echarts.init(document.getElementById('chart-in'));\r\n      }\r\n      if (!this.chartOut) {\r\n        this.chartOut = echarts.init(document.getElementById('chart-out'));\r\n      }\r\n\r\n      const dataIn = {};\r\n      const dataOut = {};\r\n      this.tableData.forEach(item => {\r\n        if (item.count > 0) {\r\n          if (!dataIn[item.goodsname]) {\r\n            dataIn[item.goodsname] = 0;\r\n          }\r\n          dataIn[item.goodsname] += item.count;\r\n        } else {\r\n          if (!dataOut[item.goodsname]) {\r\n            dataOut[item.goodsname] = 0;\r\n          }\r\n          dataOut[item.goodsname] += Math.abs(item.count);\r\n        }\r\n      });\r\n\r\n      const chartDataIn = Object.keys(dataIn).map(key => ({\r\n        name: key,\r\n        value: dataIn[key]\r\n      }));\r\n      const chartDataOut = Object.keys(dataOut).map(key => ({\r\n        name: key,\r\n        value: dataOut[key]\r\n      }));\r\n\r\n      const optionIn = {\r\n        title: {\r\n          text: '入库',\r\n          left: 'center'\r\n        },\r\n        tooltip: {\r\n          trigger: 'item'\r\n        },\r\n        legend: {\r\n          orient: 'vertical',\r\n          left: 'left'\r\n        },\r\n        series: [\r\n          {\r\n            name: '入库数量',\r\n            type: 'pie',\r\n            radius: '50%',\r\n            data: chartDataIn,\r\n            emphasis: {\r\n              itemStyle: {\r\n                shadowBlur: 10,\r\n                shadowOffsetX: 0,\r\n                shadowColor: 'rgba(0, 0, 0, 0.5)'\r\n              }\r\n            }\r\n          }\r\n        ]\r\n      };\r\n\r\n      const optionOut = {\r\n        title: {\r\n          text: '出库',\r\n          left: 'center'\r\n        },\r\n        tooltip: {\r\n          trigger: 'item'\r\n        },\r\n        legend: {\r\n          orient: 'vertical',\r\n          left: 'left'\r\n        },\r\n        series: [\r\n          {\r\n            name: '出库数量',\r\n            type: 'pie',\r\n            radius: '50%',\r\n            data: chartDataOut,\r\n            emphasis: {\r\n              itemStyle: {\r\n                shadowBlur: 10,\r\n                shadowOffsetX: 0,\r\n                shadowColor: 'rgba(0, 0, 0, 0.5)'\r\n              }\r\n            }\r\n          }\r\n        ]\r\n      };\r\n\r\n      this.chartIn.setOption(optionIn);\r\n      this.chartOut.setOption(optionOut);\r\n    }\r\n  },\r\n  beforeMount() {\r\n    this.loadStorage();\r\n    this.loadGoodstype();\r\n    this.loadPost();\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.table {\r\n   max-height: 320px; \r\n   overflow-y: auto;\r\n   &::-webkit-scrollbar {\r\n    width: 5px; \r\n  }\r\n\r\n  &::-webkit-scrollbar-track {\r\n    background: transparent; \r\n  }\r\n\r\n  &::-webkit-scrollbar-thumb {\r\n    background: rgba(0, 0, 0, 0.1); \r\n    border-radius: 5px; \r\n  }\r\n\r\n  &::-webkit-scrollbar-thumb:hover {\r\n    background: rgba(0, 0, 0, 0.2);\r\n  }\r\n}\r\n.record-page {\r\n  overflow: auto;\r\n  height: 610px;\r\n  &::-webkit-scrollbar {\r\n    width: 0; \r\n  }\r\n\r\n  &::-webkit-scrollbar-track {\r\n    background: transparent; \r\n  }\r\n\r\n  &::-webkit-scrollbar-thumb {\r\n    background: rgba(0, 0, 0, 0.1); \r\n    border-radius: 5px; \r\n  }\r\n\r\n  &::-webkit-scrollbar-thumb:hover {\r\n    background: rgba(0, 0, 0, 0.2);\r\n  }\r\n}\r\n.chart-container {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  margin-top: 50px;\r\n  margin-left: 5%;\r\n}\r\n</style>"]}]}