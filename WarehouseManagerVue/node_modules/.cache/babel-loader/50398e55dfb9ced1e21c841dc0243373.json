{"remainingRequest":"D:\\java仓库管理\\java仓库管理\\仓库管理系统\\WarehouseManager\\源代码\\WarehouseManager\\WarehouseManagerVue\\node_modules\\@vue\\cli-plugin-babel\\node_modules\\babel-loader\\lib\\index.js!D:\\java仓库管理\\java仓库管理\\仓库管理系统\\WarehouseManager\\源代码\\WarehouseManager\\WarehouseManagerVue\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\java仓库管理\\java仓库管理\\仓库管理系统\\WarehouseManager\\源代码\\WarehouseManager\\WarehouseManagerVue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\java仓库管理\\java仓库管理\\仓库管理系统\\WarehouseManager\\源代码\\WarehouseManager\\WarehouseManagerVue\\src\\components\\CurrentLocation.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\java仓库管理\\java仓库管理\\仓库管理系统\\WarehouseManager\\源代码\\WarehouseManager\\WarehouseManagerVue\\src\\components\\CurrentLocation.vue","mtime":1719904299799},{"path":"D:\\java仓库管理\\java仓库管理\\仓库管理系统\\WarehouseManager\\源代码\\WarehouseManager\\WarehouseManagerVue\\babel.config.js","mtime":1677915063811},{"path":"D:\\java仓库管理\\java仓库管理\\仓库管理系统\\WarehouseManager\\源代码\\WarehouseManager\\WarehouseManagerVue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1677927572803},{"path":"D:\\java仓库管理\\java仓库管理\\仓库管理系统\\WarehouseManager\\源代码\\WarehouseManager\\WarehouseManagerVue\\node_modules\\@vue\\cli-plugin-babel\\node_modules\\babel-loader\\lib\\index.js","mtime":1720022418374},{"path":"D:\\java仓库管理\\java仓库管理\\仓库管理系统\\WarehouseManager\\源代码\\WarehouseManager\\WarehouseManagerVue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1677927572803},{"path":"D:\\java仓库管理\\java仓库管理\\仓库管理系统\\WarehouseManager\\源代码\\WarehouseManager\\WarehouseManagerVue\\node_modules\\vue-loader\\lib\\index.js","mtime":1677927577316}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJDdXJyZW50TG9jYXRpb24iLAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBsb2FkaW5nOiB0cnVlLAogICAgICBsb2NhdGlvbjogJycKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBnZXRDdXJyZW50TG9jYXRpb24oKSB7CiAgICAgIGlmIChuYXZpZ2F0b3IuZ2VvbG9jYXRpb24pIHsKICAgICAgICBuYXZpZ2F0b3IuZ2VvbG9jYXRpb24uZ2V0Q3VycmVudFBvc2l0aW9uKHBvc2l0aW9uID0+IHsKICAgICAgICAgIGNvbnN0IGxhdGl0dWRlID0gcG9zaXRpb24uY29vcmRzLmxhdGl0dWRlOwogICAgICAgICAgY29uc3QgbG9uZ2l0dWRlID0gcG9zaXRpb24uY29vcmRzLmxvbmdpdHVkZTsKICAgICAgICAgIHRoaXMucmV2ZXJzZUdlb2NvZGUobGF0aXR1ZGUsIGxvbmdpdHVkZSk7CiAgICAgICAgfSwgZXJyb3IgPT4gewogICAgICAgICAgc3dpdGNoIChlcnJvci5jb2RlKSB7CiAgICAgICAgICAgIGNhc2UgZXJyb3IuUEVSTUlTU0lPTl9ERU5JRUQ6CiAgICAgICAgICAgICAgdGhpcy5sb2NhdGlvbiA9ICfnlKjmiLfmi5Lnu53kuoblnLDnkIbkvY3nva7or7fmsYLjgIInOwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICBjYXNlIGVycm9yLlBPU0lUSU9OX1VOQVZBSUxBQkxFOgogICAgICAgICAgICAgIHRoaXMubG9jYXRpb24gPSAn5L2N572u5L+h5oGv5LiN5Y+v55So44CCJzsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgY2FzZSBlcnJvci5USU1FT1VUOgogICAgICAgICAgICAgIHRoaXMubG9jYXRpb24gPSAn6K+35rGC6I635Y+W55So5oi35L2N572u6LaF5pe244CCJzsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgICB0aGlzLmxvY2F0aW9uID0gJ+iOt+WPluS9jee9ruS/oeaBr+aXtuWPkeeUn+acquefpemUmeivr+OAgic7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICB9CiAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTsKICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmxvY2F0aW9uID0gJ+a1j+iniOWZqOS4jeaUr+aMgeWcsOeQhuS9jee9ruiOt+WPlic7CiAgICAgIH0KICAgIH0sCiAgICByZXZlcnNlR2VvY29kZShsYXRpdHVkZSwgbG9uZ2l0dWRlKSB7CiAgICAgIGNvbnN0IGFwaUtleSA9ICdjNWE4MzdjMDdjNDQ0MWVhYjM0M2YzYmUxMjEyZjA2YSc7CiAgICAgIGNvbnN0IGFwaVVybCA9IGBodHRwczovL2FwaS5vcGVuY2FnZWRhdGEuY29tL2dlb2NvZGUvdjEvanNvbj9xPSR7bGF0aXR1ZGV9KyR7bG9uZ2l0dWRlfSZrZXk9JHthcGlLZXl9Jmxhbmd1YWdlPXpoLUNOYDsKICAgICAgYXhpb3MuZ2V0KGFwaVVybCkudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgY29uc3QgcmVzdWx0cyA9IHJlc3BvbnNlLmRhdGEucmVzdWx0czsKICAgICAgICBpZiAocmVzdWx0cyAmJiByZXN1bHRzLmxlbmd0aCA+IDApIHsKICAgICAgICAgIHRoaXMubG9jYXRpb24gPSByZXN1bHRzWzBdLmZvcm1hdHRlZDsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy5sb2NhdGlvbiA9ICfml6Dms5Xojrflj5blvZPliY3kvY3nva7nmoTln47luILkv6Hmga/jgIInOwogICAgICAgIH0KICAgICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKCJVc2VyTG9jYXRpb24iLCB0aGlzLmxvY2F0aW9uKTsKICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgfSkuY2F0Y2goZXJyb3IgPT4gewogICAgICAgIGNvbnNvbGUuZXJyb3IoJ+WPjeWQkeWcsOeQhue8lueggeWksei0pe+8micsIGVycm9yKTsKICAgICAgICB0aGlzLmxvY2F0aW9uID0gJ+iOt+WPluS9jee9ruS/oeaBr+Wksei0peOAgic7CiAgICAgIH0pOwogICAgfQogIH0sCiAgbW91bnRlZCgpIHsKICAgIHRoaXMuZ2V0Q3VycmVudExvY2F0aW9uKCk7CiAgfQp9Ow=="},{"version":3,"names":["axios","name","data","loading","location","methods","getCurrentLocation","navigator","geolocation","getCurrentPosition","position","latitude","coords","longitude","reverseGeocode","error","code","PERMISSION_DENIED","POSITION_UNAVAILABLE","TIMEOUT","console","apiKey","apiUrl","get","then","response","results","length","formatted","sessionStorage","setItem","catch","mounted"],"sources":["src/components/CurrentLocation.vue"],"sourcesContent":["<template>\r\n    <div style=\"line-height:1.75\">\r\n        <span>当前登录位置信息：\r\n            <template v-if=\"loading\">\r\n                加载中 <i class=\"el-icon-loading\"></i>\r\n            </template>\r\n            <template v-else>\r\n                <br>{{ location }}\r\n            </template>\r\n        </span>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\n\r\nexport default {\r\n    name: \"CurrentLocation\",\r\n    data() {\r\n        return {\r\n            loading: true,\r\n            location: ''\r\n        };\r\n    },\r\n    methods: {\r\n        getCurrentLocation() {\r\n            if (navigator.geolocation) {\r\n                navigator.geolocation.getCurrentPosition(\r\n                    (position) => {\r\n                        const latitude = position.coords.latitude;\r\n                        const longitude = position.coords.longitude;\r\n                        this.reverseGeocode(latitude, longitude);\r\n                    },\r\n                    (error) => {\r\n                        switch (error.code) {\r\n                            case error.PERMISSION_DENIED:\r\n                                this.location = '用户拒绝了地理位置请求。';\r\n                                break;\r\n                            case error.POSITION_UNAVAILABLE:\r\n                                this.location = '位置信息不可用。';\r\n                                break;\r\n                            case error.TIMEOUT:\r\n                                this.location = '请求获取用户位置超时。';\r\n                                break;\r\n                            default:\r\n                                this.location = '获取位置信息时发生未知错误。';\r\n                                break;\r\n                        }\r\n                        console.error(error);\r\n                    }\r\n                );\r\n            } else {\r\n                this.location = '浏览器不支持地理位置获取';\r\n            }\r\n        },\r\n        reverseGeocode(latitude, longitude) {\r\n            const apiKey = 'c5a837c07c4441eab343f3be1212f06a'; \r\n            const apiUrl = `https://api.opencagedata.com/geocode/v1/json?q=${latitude}+${longitude}&key=${apiKey}&language=zh-CN`;\r\n\r\n            axios.get(apiUrl)\r\n                .then(response => {\r\n                    const results = response.data.results;\r\n                    if (results && results.length > 0) {\r\n                        this.location = results[0].formatted;\r\n                    } else {\r\n                        this.location = '无法获取当前位置的城市信息。';\r\n                    }\r\n                    sessionStorage.setItem(\"UserLocation\", this.location);\r\n                    this.loading = false;\r\n                })\r\n                .catch(error => {\r\n                    console.error('反向地理编码失败：', error);\r\n                    this.location = '获取位置信息失败。';\r\n                });\r\n        }\r\n    },\r\n    mounted() {\r\n        this.getCurrentLocation();\r\n    }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\nspan {\r\n    padding: 30px;\r\n    font-size: 25px;\r\n    color: orange;\r\n}\r\n</style>\r\n"],"mappings":"AAcA,OAAAA,KAAA;AAEA;EACAC,IAAA;EACAC,KAAA;IACA;MACAC,OAAA;MACAC,QAAA;IACA;EACA;EACAC,OAAA;IACAC,mBAAA;MACA,IAAAC,SAAA,CAAAC,WAAA;QACAD,SAAA,CAAAC,WAAA,CAAAC,kBAAA,CACAC,QAAA;UACA,MAAAC,QAAA,GAAAD,QAAA,CAAAE,MAAA,CAAAD,QAAA;UACA,MAAAE,SAAA,GAAAH,QAAA,CAAAE,MAAA,CAAAC,SAAA;UACA,KAAAC,cAAA,CAAAH,QAAA,EAAAE,SAAA;QACA,GACAE,KAAA;UACA,QAAAA,KAAA,CAAAC,IAAA;YACA,KAAAD,KAAA,CAAAE,iBAAA;cACA,KAAAb,QAAA;cACA;YACA,KAAAW,KAAA,CAAAG,oBAAA;cACA,KAAAd,QAAA;cACA;YACA,KAAAW,KAAA,CAAAI,OAAA;cACA,KAAAf,QAAA;cACA;YACA;cACA,KAAAA,QAAA;cACA;UACA;UACAgB,OAAA,CAAAL,KAAA,CAAAA,KAAA;QACA,CACA;MACA;QACA,KAAAX,QAAA;MACA;IACA;IACAU,eAAAH,QAAA,EAAAE,SAAA;MACA,MAAAQ,MAAA;MACA,MAAAC,MAAA,qDAAAX,QAAA,IAAAE,SAAA,QAAAQ,MAAA;MAEArB,KAAA,CAAAuB,GAAA,CAAAD,MAAA,EACAE,IAAA,CAAAC,QAAA;QACA,MAAAC,OAAA,GAAAD,QAAA,CAAAvB,IAAA,CAAAwB,OAAA;QACA,IAAAA,OAAA,IAAAA,OAAA,CAAAC,MAAA;UACA,KAAAvB,QAAA,GAAAsB,OAAA,IAAAE,SAAA;QACA;UACA,KAAAxB,QAAA;QACA;QACAyB,cAAA,CAAAC,OAAA,sBAAA1B,QAAA;QACA,KAAAD,OAAA;MACA,GACA4B,KAAA,CAAAhB,KAAA;QACAK,OAAA,CAAAL,KAAA,cAAAA,KAAA;QACA,KAAAX,QAAA;MACA;IACA;EACA;EACA4B,QAAA;IACA,KAAA1B,kBAAA;EACA;AACA","ignoreList":[]}]}