{"remainingRequest":"D:\\Work\\WorkSpace\\GitWorkSpace\\TenShop\\resource\\WarehouseManager\\src\\WarehouseManagerVue\\node_modules\\babel-loader\\lib\\index.js!D:\\Work\\WorkSpace\\GitWorkSpace\\TenShop\\resource\\WarehouseManager\\src\\WarehouseManagerVue\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\Work\\WorkSpace\\GitWorkSpace\\TenShop\\resource\\WarehouseManager\\src\\WarehouseManagerVue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Work\\WorkSpace\\GitWorkSpace\\TenShop\\resource\\WarehouseManager\\src\\WarehouseManagerVue\\src\\components\\Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Work\\WorkSpace\\GitWorkSpace\\TenShop\\resource\\WarehouseManager\\src\\WarehouseManagerVue\\src\\components\\Login.vue","mtime":1699272499927},{"path":"D:\\Work\\WorkSpace\\GitWorkSpace\\TenShop\\resource\\WarehouseManager\\src\\WarehouseManagerVue\\babel.config.js","mtime":1677915063811},{"path":"D:\\Work\\WorkSpace\\GitWorkSpace\\TenShop\\resource\\WarehouseManager\\src\\WarehouseManagerVue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1677927572803},{"path":"D:\\Work\\WorkSpace\\GitWorkSpace\\TenShop\\resource\\WarehouseManager\\src\\WarehouseManagerVue\\node_modules\\babel-loader\\lib\\index.js","mtime":1677927576192},{"path":"D:\\Work\\WorkSpace\\GitWorkSpace\\TenShop\\resource\\WarehouseManager\\src\\WarehouseManagerVue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1677927572803},{"path":"D:\\Work\\WorkSpace\\GitWorkSpace\\TenShop\\resource\\WarehouseManager\\src\\WarehouseManagerVue\\node_modules\\vue-loader\\lib\\index.js","mtime":1677927577316}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:ZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJMb2dpbiIsCgogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBjb25maXJtX2Rpc2FibGVkOiBmYWxzZSwKICAgICAgLy/pmLLmraLlpJrmrKHmj5DkuqQKICAgICAgbG9naW5Gb3JtOiB7CiAgICAgICAgbm86ICIiLAogICAgICAgIHBhc3N3b3JkOiAiIgogICAgICB9LAogICAgICBydWxlczogewogICAgICAgIG5vOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAi6K+36L6T5YWl6LSm5Y+3IiwKICAgICAgICAgIHRyaWdnZXI6ICJibHVyIgogICAgICAgIH1dLAogICAgICAgIHBhc3N3b3JkOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAi6K+36L6T5a+G56CBIiwKICAgICAgICAgIHRyaWdnZXI6ICJibHVyIgogICAgICAgIH1dCiAgICAgIH0KICAgIH07CiAgfSwKCiAgbWV0aG9kczogewogICAgY29uZmlybSgpIHsKICAgICAgdGhpcy5jb25maXJtX2Rpc2FibGVkID0gdHJ1ZTsKICAgICAgdGhpcy4kcmVmcy5sb2dpbkZvcm0udmFsaWRhdGUodmFsaWQgPT4gewogICAgICAgIGlmICh2YWxpZCkgewogICAgICAgICAgLy92YWxpZOaIkOWKn+S4unRydWXvvIzlpLHotKXkuLpmYWxzZQogICAgICAgICAgLy/ljrvlkI7lj7Dpqozor4HnlKjmiLflkI3lr4bnoIEKICAgICAgICAgIHRoaXMuJGF4aW9zLnBvc3QodGhpcy4kaHR0cFVybCArICIvdXNlci9sb2dpbiIsIHRoaXMubG9naW5Gb3JtKS50aGVuKHJlcyA9PiByZXMuZGF0YSkudGhlbihyZXMgPT4gewogICAgICAgICAgICBpZiAocmVzLmNvZGUgPT0gMjAwKSB7CiAgICAgICAgICAgICAgLy/lrZjlgqgKICAgICAgICAgICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKCJDdXJVc2VyIiwgSlNPTi5zdHJpbmdpZnkocmVzLmRhdGEudXNlcikpOwogICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlcy5kYXRhLm1lbnUpOwogICAgICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgic2V0TWVudSIsIHJlcy5kYXRhLm1lbnUpOyAvL+i3s+i9rOWIsOS4u+mhtQoKICAgICAgICAgICAgICB0aGlzLiRyb3V0ZXIucmVwbGFjZSgiL0luZGV4Iik7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgdGhpcy5jb25maXJtX2Rpc2FibGVkID0gZmFsc2U7CiAgICAgICAgICAgICAgYWxlcnQoIuagoemqjOWksei0pe+8jOeUqOaIt+WQjeaIluWvhueggemUmeivr++8gSIpOwogICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgfQogICAgICAgICAgfSkuY2F0Y2goZSA9PiB7CiAgICAgICAgICAgIHRoaXMuY29uZmlybV9kaXNhYmxlZCA9IGZhbHNlOwogICAgICAgICAgICBjb25zb2xlLmxvZyhlKTsKCiAgICAgICAgICAgIGlmIChlLnJlc3BvbnNlID09IHVuZGVmaW5lZCB8fCBlLnJlc3BvbnNlLmRhdGEgPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICAgICAgICBzaG93Q2xvc2U6IHRydWUsCiAgICAgICAgICAgICAgICBtZXNzYWdlOiBlLAogICAgICAgICAgICAgICAgdHlwZTogImVycm9yIiwKICAgICAgICAgICAgICAgIGR1cmF0aW9uOiA1MDAwCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICAgICAgICBzaG93Q2xvc2U6IHRydWUsCiAgICAgICAgICAgICAgICBtZXNzYWdlOiBlLnJlc3BvbnNlLmRhdGEsCiAgICAgICAgICAgICAgICB0eXBlOiAiZXJyb3IiLAogICAgICAgICAgICAgICAgZHVyYXRpb246IDUwMDAKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuY29uZmlybV9kaXNhYmxlZCA9IGZhbHNlOwogICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9CgogIH0KfTs="},{"version":3,"mappings":"AAsEA;EACAA,aADA;;EAEAC;IACA;MACAC,uBADA;MACA;MACAC;QACAC,MADA;QAEAC;MAFA,CAFA;MAMAC;QACAF,KACA;UAAAG;UAAAC;UAAAC;QAAA,CADA,CADA;QAIAJ,WACA;UAAAE;UAAAC;UAAAC;QAAA,CADA;MAJA;IANA;EAeA,CAlBA;;EAmBAC;IACAC;MACA;MACA;QACA;UACA;UACA;UACA,YACAC,IADA,CACA,6BADA,EACA,cADA,EAEAC,IAFA,CAEAC,eAFA,EAGAD,IAHA,CAGAC;YACA;cACA;cACAC,uBACA,SADA,EAEAC,6BAFA;cAKAC;cACA,6CARA,CASA;;cACA;YACA,CAXA,MAWA;cACA;cACAC;cACA;YACA;UACA,CApBA,EAqBAC,KArBA,CAqBAC;YACA;YACAH;;YACA,IACAG,2BACAA,4BAFA,EAGA;cACA;gBACAC,eADA;gBAEAb,UAFA;gBAGAc,aAHA;gBAIAC;cAJA;YAMA,CAVA,MAUA;cACA;gBACAF,eADA;gBAEAb,wBAFA;gBAGAc,aAHA;gBAIAC;cAJA;YAMA;UACA,CA1CA;QA2CA,CA9CA,MA8CA;UACA;UACA;QACA;MACA,CAnDA;IAoDA;;EAvDA;AAnBA","names":["name","data","confirm_disabled","loginForm","no","password","rules","required","message","trigger","methods","confirm","post","then","res","sessionStorage","JSON","console","alert","catch","e","showClose","type","duration"],"sourceRoot":"src/components","sources":["Login.vue"],"sourcesContent":["<template>\r\n    <div class=\"loginBody\">\r\n        <div\r\n            style=\"\r\n                width: 98%;\r\n                text-align: center;\r\n                color: white;\r\n                padding: 8vh 100px 0 0;\r\n                -webkit-text-stroke: 1px black;\r\n                font-size: 3vh;\r\n            \"\r\n        >\r\n            <h1>欢迎访问仓库管理系统</h1>\r\n        </div>\r\n\r\n        <div class=\"loginDiv\">\r\n            <div class=\"login-content\">\r\n                <el-row>\r\n                    <el-col style=\"text-align: center; padding: 25px 0 25px 0\">\r\n                        <i\r\n                            class=\"iconfont icon-r-building\"\r\n                            style=\"font-size: 36px\"\r\n                        ></i>\r\n                        <b style=\"font-size: 36px\"> 仓库管理系统</b>\r\n                    </el-col>\r\n                </el-row>\r\n                <el-form\r\n                    :model=\"loginForm\"\r\n                    label-width=\"100px\"\r\n                    :rules=\"rules\"\r\n                    ref=\"loginForm\"\r\n                >\r\n                    <el-form-item label=\"账号\" prop=\"no\">\r\n                        <el-input\r\n                            style=\"width: 200px\"\r\n                            type=\"text\"\r\n                            v-model=\"loginForm.no\"\r\n                            autocomplete=\"off\"\r\n                            \r\n                        ></el-input>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"密码\" prop=\"password\">\r\n                        <el-input\r\n                            style=\"width: 200px\"\r\n                            type=\"password\"\r\n                            v-model=\"loginForm.password\"\r\n                            show-password\r\n                            autocomplete=\"off\"\r\n                            \r\n                            @keyup.enter.native=\"confirm\"\r\n                        ></el-input>\r\n                    </el-form-item>\r\n                    <el-form-item style=\"padding-left: 45px\">\r\n                        <el-button\r\n                            type=\"primary\"\r\n                            @click=\"confirm\"\r\n                            :disabled=\"confirm_disabled\"\r\n                            style=\"font-size: 22px\"\r\n                        >\r\n                            登 录</el-button\r\n                        >\r\n                    </el-form-item>\r\n                </el-form>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n\r\n<script>\r\nexport default {\r\n    name: \"Login\",\r\n    data() {\r\n        return {\r\n            confirm_disabled: false, //防止多次提交\r\n            loginForm: {\r\n                no: \"\",\r\n                password: \"\",\r\n            },\r\n            rules: {\r\n                no: [\r\n                    { required: true, message: \"请输入账号\", trigger: \"blur\" },\r\n                ],\r\n                password: [\r\n                    { required: true, message: \"请输密码\", trigger: \"blur\" },\r\n                ],\r\n            },\r\n        };\r\n    },\r\n    methods: {\r\n        confirm() {\r\n            this.confirm_disabled = true;\r\n            this.$refs.loginForm.validate((valid) => {\r\n                if (valid) {\r\n                    //valid成功为true，失败为false\r\n                    //去后台验证用户名密码\r\n                    this.$axios\r\n                        .post(this.$httpUrl + \"/user/login\", this.loginForm)\r\n                        .then((res) => res.data)\r\n                        .then((res) => {\r\n                            if (res.code == 200) {\r\n                                //存储\r\n                                sessionStorage.setItem(\r\n                                    \"CurUser\",\r\n                                    JSON.stringify(res.data.user)\r\n                                );\r\n\r\n                                console.log(res.data.menu);\r\n                                this.$store.commit(\"setMenu\", res.data.menu);\r\n                                //跳转到主页\r\n                                this.$router.replace(\"/Index\");\r\n                            } else {\r\n                                this.confirm_disabled = false;\r\n                                alert(\"校验失败，用户名或密码错误！\");\r\n                                return false;\r\n                            }\r\n                        })\r\n                        .catch((e) => {\r\n                            this.confirm_disabled = false;\r\n                            console.log(e);\r\n                            if (\r\n                                e.response == undefined ||\r\n                                e.response.data == undefined\r\n                            ) {\r\n                                this.$message({\r\n                                    showClose: true,\r\n                                    message: e,\r\n                                    type: \"error\",\r\n                                    duration: 5000,\r\n                                });\r\n                            } else {\r\n                                this.$message({\r\n                                    showClose: true,\r\n                                    message: e.response.data,\r\n                                    type: \"error\",\r\n                                    duration: 5000,\r\n                                });\r\n                            }\r\n                        });\r\n                } else {\r\n                    this.confirm_disabled = false;\r\n                    return false;\r\n                }\r\n            });\r\n        },\r\n    },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\nhtml,\r\nbody {\r\n    overflow-x: hidden;\r\n}\r\n\r\n.loginBody {\r\n    position: absolute;\r\n    width: 100%;\r\n    height: 100%;\r\n    /* background-color: #B3C0D1; */\r\n    background: url(\"../assets/home.jpg\");\r\n    background-size: 100% 100%;\r\n\r\n    overflow-x: hidden;\r\n}\r\n.loginDiv {\r\n    position: absolute;\r\n    top: 50%;\r\n    left: 50%;\r\n    margin-top: -200px;\r\n    margin-left: -250px;\r\n    width: 450px;\r\n    height: 330px;\r\n    background: #fff;\r\n    border-radius: 5%;\r\n    opacity: 0.9;\r\n}\r\n.login-title {\r\n    margin: 20px 0;\r\n    text-align: center;\r\n}\r\n.login-content {\r\n    width: 400px;\r\n    height: 250px;\r\n    position: absolute;\r\n    top: 25px;\r\n    left: 25px;\r\n}\r\n</style>"]}]}