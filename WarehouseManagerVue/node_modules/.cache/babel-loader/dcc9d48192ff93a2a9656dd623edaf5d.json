{"remainingRequest":"D:\\java仓库管理\\java仓库管理\\仓库管理系统\\WarehouseManager\\源代码\\WarehouseManager\\WarehouseManagerVue\\node_modules\\babel-loader\\lib\\index.js!D:\\java仓库管理\\java仓库管理\\仓库管理系统\\WarehouseManager\\源代码\\WarehouseManager\\WarehouseManagerVue\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\java仓库管理\\java仓库管理\\仓库管理系统\\WarehouseManager\\源代码\\WarehouseManager\\WarehouseManagerVue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\java仓库管理\\java仓库管理\\仓库管理系统\\WarehouseManager\\源代码\\WarehouseManager\\WarehouseManagerVue\\src\\components\\Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\java仓库管理\\java仓库管理\\仓库管理系统\\WarehouseManager\\源代码\\WarehouseManager\\WarehouseManagerVue\\src\\components\\Login.vue","mtime":1719644851827},{"path":"D:\\java仓库管理\\java仓库管理\\仓库管理系统\\WarehouseManager\\源代码\\WarehouseManager\\WarehouseManagerVue\\babel.config.js","mtime":1677915063811},{"path":"D:\\java仓库管理\\java仓库管理\\仓库管理系统\\WarehouseManager\\源代码\\WarehouseManager\\WarehouseManagerVue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1677927572803},{"path":"D:\\java仓库管理\\java仓库管理\\仓库管理系统\\WarehouseManager\\源代码\\WarehouseManager\\WarehouseManagerVue\\node_modules\\babel-loader\\lib\\index.js","mtime":1677927576192},{"path":"D:\\java仓库管理\\java仓库管理\\仓库管理系统\\WarehouseManager\\源代码\\WarehouseManager\\WarehouseManagerVue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1677927572803},{"path":"D:\\java仓库管理\\java仓库管理\\仓库管理系统\\WarehouseManager\\源代码\\WarehouseManager\\WarehouseManagerVue\\node_modules\\vue-loader\\lib\\index.js","mtime":1677927577316}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:ZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJMb2dpbiIsCgogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBsb2dpblR5cGU6ICdhY2NvdW50JywKICAgICAgLy8g55m75b2V57G75Z6L77yaJ2FjY291bnQnIOaIliAncGhvbmUnCiAgICAgIGNvbmZpcm1fZGlzYWJsZWQ6IGZhbHNlLAogICAgICAvLyDpmLLmraLlpJrmrKHmj5DkuqQKICAgICAgY29kZV9kaXNhYmxlZDogZmFsc2UsCiAgICAgIC8vIOmqjOivgeeggeaMiemSruaYr+WQpuemgeeUqAogICAgICBjb2RlX3RleHQ6ICfojrflj5bpqozor4HnoIEnLAogICAgICBsb2dpbkZvcm06IHsKICAgICAgICBubzogIiIsCiAgICAgICAgcGFzc3dvcmQ6ICIiLAogICAgICAgIHBob25lOiAiIiwKICAgICAgICBjb2RlOiAiIgogICAgICB9LAogICAgICBydWxlczogewogICAgICAgIG5vOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAi6K+36L6T5YWl6LSm5Y+3IiwKICAgICAgICAgIHRyaWdnZXI6ICJibHVyIgogICAgICAgIH1dLAogICAgICAgIHBhc3N3b3JkOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAi6K+36L6T5a+G56CBIiwKICAgICAgICAgIHRyaWdnZXI6ICJibHVyIgogICAgICAgIH1dLAogICAgICAgIHBob25lOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAi6K+36L6T5YWl5omL5py65Y+3IiwKICAgICAgICAgIHRyaWdnZXI6ICJibHVyIgogICAgICAgIH1dLAogICAgICAgIGNvZGU6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICLor7fovpPlhaXpqozor4HnoIEiLAogICAgICAgICAgdHJpZ2dlcjogImJsdXIiCiAgICAgICAgfV0KICAgICAgfQogICAgfTsKICB9LAoKICBtZXRob2RzOiB7CiAgICB0b2dnbGVMb2dpblR5cGUoKSB7CiAgICAgIHRoaXMubG9naW5UeXBlID0gdGhpcy5sb2dpblR5cGUgPT09ICdhY2NvdW50JyA/ICdwaG9uZScgOiAnYWNjb3VudCc7CiAgICB9LAoKICAgIHNlbmRDb2RlKCkgewogICAgICBpZiAodGhpcy5sb2dpbkZvcm0ucGhvbmUgPT09ICcnKSB7CiAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcign6K+36L6T5YWl5omL5py65Y+3Jyk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICB0aGlzLmNvZGVfZGlzYWJsZWQgPSB0cnVlOwogICAgICB0aGlzLmNvZGVfdGV4dCA9ICflj5HpgIHkuK0uLi4nOyAvLyDosIPnlKjlj5HpgIHpqozor4HnoIHnmoTmjqXlj6MKCiAgICAgIHRoaXMuJGF4aW9zLnBvc3QodGhpcy4kaHR0cFVybCArICIvdXNlci9zZW5kQ29kZSIsIHsKICAgICAgICBwaG9uZTogdGhpcy5sb2dpbkZvcm0ucGhvbmUKICAgICAgfSkudGhlbihyZXMgPT4gcmVzLmRhdGEpLnRoZW4ocmVzID0+IHsKICAgICAgICBpZiAocmVzLmNvZGUgPT0gMjAwKSB7CiAgICAgICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoJ+mqjOivgeeggeW3suWPkemAgScpOwogICAgICAgICAgdGhpcy5zdGFydENvZGVUaW1lcigpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCflj5HpgIHpqozor4HnoIHlpLHotKUnKTsKICAgICAgICAgIHRoaXMuY29kZV9kaXNhYmxlZCA9IGZhbHNlOwogICAgICAgICAgdGhpcy5jb2RlX3RleHQgPSAn6I635Y+W6aqM6K+B56CBJzsKICAgICAgICB9CiAgICAgIH0pLmNhdGNoKGUgPT4gewogICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+WPkemAgemqjOivgeeggeWksei0pScpOwogICAgICAgIHRoaXMuY29kZV9kaXNhYmxlZCA9IGZhbHNlOwogICAgICAgIHRoaXMuY29kZV90ZXh0ID0gJ+iOt+WPlumqjOivgeeggSc7CiAgICAgIH0pOwogICAgfSwKCiAgICBzdGFydENvZGVUaW1lcigpIHsKICAgICAgbGV0IGNvdW50ID0gNjA7CiAgICAgIGNvbnN0IHRpbWVyID0gc2V0SW50ZXJ2YWwoKCkgPT4gewogICAgICAgIGlmIChjb3VudCA+IDApIHsKICAgICAgICAgIHRoaXMuY29kZV90ZXh0ID0gYCR7Y291bnQtLX3np5LlkI7ph43or5VgOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBjbGVhckludGVydmFsKHRpbWVyKTsKICAgICAgICAgIHRoaXMuY29kZV9kaXNhYmxlZCA9IGZhbHNlOwogICAgICAgICAgdGhpcy5jb2RlX3RleHQgPSAn6I635Y+W6aqM6K+B56CBJzsKICAgICAgICB9CiAgICAgIH0sIDEwMDApOwogICAgfSwKCiAgICBjb25maXJtKCkgewogICAgICB0aGlzLmNvbmZpcm1fZGlzYWJsZWQgPSB0cnVlOwogICAgICB0aGlzLiRyZWZzLmxvZ2luRm9ybS52YWxpZGF0ZSh2YWxpZCA9PiB7CiAgICAgICAgaWYgKHZhbGlkKSB7CiAgICAgICAgICBpZiAodGhpcy5sb2dpblR5cGUgPT09ICdhY2NvdW50JykgewogICAgICAgICAgICB0aGlzLmxvZ2luV2l0aFBhc3N3b3JkKCk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB0aGlzLmxvZ2luV2l0aFBob25lKCk7CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuY29uZmlybV9kaXNhYmxlZCA9IGZhbHNlOwogICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAoKICAgIGxvZ2luV2l0aFBhc3N3b3JkKCkgewogICAgICAvLyDkvb/nlKjotKblj7flr4bnoIHnmbvlvZUKICAgICAgdGhpcy4kYXhpb3MucG9zdCh0aGlzLiRodHRwVXJsICsgIi91c2VyL2xvZ2luIiwgdGhpcy5sb2dpbkZvcm0pLnRoZW4ocmVzID0+IHJlcy5kYXRhKS50aGVuKHJlcyA9PiB7CiAgICAgICAgaWYgKHJlcy5jb2RlID09IDIwMCkgewogICAgICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgiQ3VyVXNlciIsIEpTT04uc3RyaW5naWZ5KHJlcy5kYXRhLnVzZXIpKTsKICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgic2V0TWVudSIsIHJlcy5kYXRhLm1lbnUpOwogICAgICAgICAgdGhpcy4kcm91dGVyLnJlcGxhY2UoIi9JbmRleCIpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLmNvbmZpcm1fZGlzYWJsZWQgPSBmYWxzZTsKICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoIuagoemqjOWksei0pe+8jOeUqOaIt+WQjeaIluWvhueggemUmeivr++8gSIpOwogICAgICAgIH0KICAgICAgfSkuY2F0Y2goZSA9PiB7CiAgICAgICAgdGhpcy5jb25maXJtX2Rpc2FibGVkID0gZmFsc2U7CiAgICAgICAgdGhpcy5zaG93RXJyb3IoZSk7CiAgICAgIH0pOwogICAgfSwKCiAgICBsb2dpbldpdGhQaG9uZSgpIHsKICAgICAgLy8g5L2/55So5omL5py65Y+35ZKM6aqM6K+B56CB55m75b2VCiAgICAgIHRoaXMuJGF4aW9zLnBvc3QodGhpcy4kaHR0cFVybCArICIvdXNlci9sb2dpbldpdGhDb2RlIiwgdGhpcy5sb2dpbkZvcm0pLnRoZW4ocmVzID0+IHJlcy5kYXRhKS50aGVuKHJlcyA9PiB7CiAgICAgICAgaWYgKHJlcy5jb2RlID09IDIwMCkgewogICAgICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgiQ3VyVXNlciIsIEpTT04uc3RyaW5naWZ5KHJlcy5kYXRhLnVzZXIpKTsKICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgic2V0TWVudSIsIHJlcy5kYXRhLm1lbnUpOwogICAgICAgICAgdGhpcy4kcm91dGVyLnJlcGxhY2UoIi9JbmRleCIpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLmNvbmZpcm1fZGlzYWJsZWQgPSBmYWxzZTsKICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoIuagoemqjOWksei0pe+8jOaJi+acuuWPt+aIlumqjOivgeeggemUmeivr++8gSIpOwogICAgICAgIH0KICAgICAgfSkuY2F0Y2goZSA9PiB7CiAgICAgICAgdGhpcy5jb25maXJtX2Rpc2FibGVkID0gZmFsc2U7CiAgICAgICAgdGhpcy5zaG93RXJyb3IoZSk7CiAgICAgIH0pOwogICAgfSwKCiAgICBzaG93RXJyb3IoZSkgewogICAgICBpZiAoZS5yZXNwb25zZSA9PSB1bmRlZmluZWQgfHwgZS5yZXNwb25zZS5kYXRhID09IHVuZGVmaW5lZCkgewogICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgc2hvd0Nsb3NlOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogZSwKICAgICAgICAgIHR5cGU6ICJlcnJvciIsCiAgICAgICAgICBkdXJhdGlvbjogNTAwMAogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgc2hvd0Nsb3NlOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogZS5yZXNwb25zZS5kYXRhLAogICAgICAgICAgdHlwZTogImVycm9yIiwKICAgICAgICAgIGR1cmF0aW9uOiA1MDAwCiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0KCiAgfQp9Ow=="},{"version":3,"mappings":"AA+FA;EACAA,aADA;;EAEAC;IACA;MACAC,oBADA;MACA;MACAC,uBAFA;MAEA;MACAC,oBAHA;MAGA;MACAC,kBAJA;MAKAC;QACAC,MADA;QAEAC,YAFA;QAGAC,SAHA;QAIAC;MAJA,CALA;MAWAC;QACAJ,KACA;UAAAK;UAAAC;UAAAC;QAAA,CADA,CADA;QAIAN,WACA;UAAAI;UAAAC;UAAAC;QAAA,CADA,CAJA;QAOAL,QACA;UAAAG;UAAAC;UAAAC;QAAA,CADA,CAPA;QAUAJ,OACA;UAAAE;UAAAC;UAAAC;QAAA,CADA;MAVA;IAXA;EA0BA,CA7BA;;EA8BAC;IACAC;MACA;IACA,CAHA;;IAIAC;MACA;QACA;QACA;MACA;;MACA;MACA,0BANA,CAOA;;MACA;QAAAR;MAAA,GACAS,IADA,CACAC,eADA,EAEAD,IAFA,CAEAC;QACA;UACA;UACA;QACA,CAHA,MAGA;UACA;UACA;UACA;QACA;MACA,CAXA,EAYAC,KAZA,CAYAC;QACA;QACA;QACA;MACA,CAhBA;IAiBA,CA7BA;;IA8BAC;MACA;MACA;QACA;UACA;QACA,CAFA,MAEA;UACAC;UACA;UACA;QACA;MACA,CARA,EAQA,IARA;IASA,CAzCA;;IA0CAC;MACA;MACA;QACA;UACA;YACA;UACA,CAFA,MAEA;YACA;UACA;QACA,CANA,MAMA;UACA;UACA;QACA;MACA,CAXA;IAYA,CAxDA;;IAyDAC;MACA;MACA,gEACAP,IADA,CACAC,eADA,EAEAD,IAFA,CAEAC;QACA;UACAO;UACA;UACA;QACA,CAJA,MAIA;UACA;UACA;QACA;MACA,CAXA,EAYAN,KAZA,CAYAC;QACA;QACA;MACA,CAfA;IAgBA,CA3EA;;IA4EAM;MACA;MACA,wEACAT,IADA,CACAC,eADA,EAEAD,IAFA,CAEAC;QACA;UACAO;UACA;UACA;QACA,CAJA,MAIA;UACA;UACA;QACA;MACA,CAXA,EAYAN,KAZA,CAYAC;QACA;QACA;MACA,CAfA;IAgBA,CA9FA;;IA+FAO;MACA;QACA;UACAC,eADA;UAEAhB,UAFA;UAGAiB,aAHA;UAIAC;QAJA;MAMA,CAPA,MAOA;QACA;UACAF,eADA;UAEAhB,wBAFA;UAGAiB,aAHA;UAIAC;QAJA;MAMA;IACA;;EA/GA;AA9BA","names":["name","data","loginType","confirm_disabled","code_disabled","code_text","loginForm","no","password","phone","code","rules","required","message","trigger","methods","toggleLoginType","sendCode","then","res","catch","e","startCodeTimer","clearInterval","confirm","loginWithPassword","sessionStorage","loginWithPhone","showError","showClose","type","duration"],"sourceRoot":"src/components","sources":["Login.vue"],"sourcesContent":["<template>\r\n    <div class=\"loginBody\">\r\n        <div class=\"loginDiv\">\r\n            <div class=\"login-left\">\r\n                <div class=\"left-title\">\r\n                    <img src=\"../assets/welcome.png\" alt=\"welcome\" class = \"welcomeImag\"/>\r\n                    <h2>文松管理系统</h2>\r\n                </div>\r\n                <div class=\"left-bottom\">\r\n                    <p>2024 © 文松出品</p>\r\n                </div>\r\n            </div>\r\n            <div class=\"login-content\">\r\n                <el-row>\r\n                    <el-col style=\"text-align: center; padding: 25px 0 25px 0\">\r\n                        <i\r\n                            class=\"iconfont icon-r-building\"\r\n                            style=\"font-size: 36px\"\r\n                        ></i>\r\n                        <b style=\"font-size: 35px; font-family: 'Noto Sans', sans-serif; font-weight: 500;\"> 欢迎登录</b>\r\n                    </el-col>\r\n                </el-row>\r\n                <el-form\r\n                    :model=\"loginForm\"\r\n                    label-width=\"100px\"\r\n                    :rules=\"rules\"\r\n                    ref=\"loginForm\"\r\n                >\r\n                    <el-form-item label=\"账号\" v-if=\"loginType === 'account'\" prop=\"no\">\r\n                        <el-input\r\n                            style=\"width: 200px\"\r\n                            type=\"text\"\r\n                            v-model=\"loginForm.no\"\r\n                            autocomplete=\"off\"\r\n                            placeholder=\"请输入账号\"\r\n                        ></el-input>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"密码\" v-if=\"loginType === 'account'\" prop=\"password\">\r\n                        <el-input\r\n                            style=\"width: 200px\"\r\n                            type=\"password\"\r\n                            v-model=\"loginForm.password\"\r\n                            show-password\r\n                            autocomplete=\"off\"\r\n                            @keyup.enter.native=\"confirm\"\r\n                            placeholder=\"请输入密码\"\r\n                        ></el-input>\r\n                    </el-form-item>\r\n\r\n                    <el-form-item label=\"手机号\" v-if=\"loginType === 'phone'\" prop=\"phone\">\r\n                        <el-input\r\n                            style=\"width: 200px\"\r\n                            type=\"text\"\r\n                            v-model=\"loginForm.phone\"\r\n                            autocomplete=\"off\"\r\n                            placeholder=\"请输入手机号\"\r\n                        ></el-input>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"验证码\" v-if=\"loginType === 'phone'\" prop=\"code\">\r\n                        <el-row>\r\n                            <el-col :span=\"14\">\r\n                                <el-input\r\n                                    style=\"width: 150px\"\r\n                                    type=\"text\"\r\n                                    v-model=\"loginForm.code\"\r\n                                    autocomplete=\"off\"\r\n                                    placeholder=\"点击右侧获取\"\r\n                                ></el-input>\r\n                            </el-col>\r\n                            <el-col :span=\"10\">\r\n                                <el-button @click=\"sendCode\" style=\"margin-left: -26px\" :disabled=\"code_disabled\">{{ code_text }}</el-button>\r\n                            </el-col>\r\n                        </el-row>\r\n                    </el-form-item>\r\n                    <el-form-item style=\"padding-left: 45px\">\r\n                        <el-button\r\n                            type=\"primary\"\r\n                            @click=\"confirm\"\r\n                            :disabled=\"confirm_disabled\"\r\n                            style=\"font-size: 20px\"\r\n                        >\r\n                            登 录\r\n                        </el-button>\r\n                    </el-form-item>\r\n\r\n                    <el-form-item style=\"text-align: center; margin-left: 130px\">\r\n                        <el-link @click=\"toggleLoginType\">{{ loginType === 'account' ? '使用手机号登录' : '使用账号密码登录' }}</el-link>\r\n                    </el-form-item>\r\n                </el-form>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    name: \"Login\",\r\n    data() {\r\n        return {\r\n            loginType: 'account', // 登录类型：'account' 或 'phone'\r\n            confirm_disabled: false, // 防止多次提交\r\n            code_disabled: false, // 验证码按钮是否禁用\r\n            code_text: '获取验证码',\r\n            loginForm: {\r\n                no: \"\",\r\n                password: \"\",\r\n                phone: \"\",\r\n                code: \"\"\r\n            },\r\n            rules: {\r\n                no: [\r\n                    { required: true, message: \"请输入账号\", trigger: \"blur\" }\r\n                ],\r\n                password: [\r\n                    { required: true, message: \"请输密码\", trigger: \"blur\" }\r\n                ],\r\n                phone: [\r\n                    { required: true, message: \"请输入手机号\", trigger: \"blur\" }\r\n                ],\r\n                code: [\r\n                    { required: true, message: \"请输入验证码\", trigger: \"blur\" }\r\n                ]\r\n            }\r\n        };\r\n    },\r\n    methods: {\r\n        toggleLoginType() {\r\n            this.loginType = this.loginType === 'account' ? 'phone' : 'account';\r\n        },\r\n        sendCode() {\r\n            if (this.loginForm.phone === '') {\r\n                this.$message.error('请输入手机号');\r\n                return;\r\n            }\r\n            this.code_disabled = true;\r\n            this.code_text = '发送中...';\r\n            // 调用发送验证码的接口\r\n            this.$axios.post(this.$httpUrl + \"/user/sendCode\", { phone: this.loginForm.phone })\r\n                .then((res) => res.data)\r\n                .then((res) => {\r\n                    if (res.code == 200) {\r\n                        this.$message.success('验证码已发送');\r\n                        this.startCodeTimer();\r\n                    } else {\r\n                        this.$message.error('发送验证码失败');\r\n                        this.code_disabled = false;\r\n                        this.code_text = '获取验证码';\r\n                    }\r\n                })\r\n                .catch((e) => {\r\n                    this.$message.error('发送验证码失败');\r\n                    this.code_disabled = false;\r\n                    this.code_text = '获取验证码';\r\n                });\r\n        },\r\n        startCodeTimer() {\r\n            let count = 60;\r\n            const timer = setInterval(() => {\r\n                if (count > 0) {\r\n                    this.code_text = `${count--}秒后重试`;\r\n                } else {\r\n                    clearInterval(timer);\r\n                    this.code_disabled = false;\r\n                    this.code_text = '获取验证码';\r\n                }\r\n            }, 1000);\r\n        },\r\n        confirm() {\r\n            this.confirm_disabled = true;\r\n            this.$refs.loginForm.validate((valid) => {\r\n                if (valid) {\r\n                    if (this.loginType === 'account') {\r\n                        this.loginWithPassword();\r\n                    } else {\r\n                        this.loginWithPhone();\r\n                    }\r\n                } else {\r\n                    this.confirm_disabled = false;\r\n                    return false;\r\n                }\r\n            });\r\n        },\r\n        loginWithPassword() {\r\n            // 使用账号密码登录\r\n            this.$axios.post(this.$httpUrl + \"/user/login\", this.loginForm)\r\n                .then((res) => res.data)\r\n                .then((res) => {\r\n                    if (res.code == 200) {\r\n                        sessionStorage.setItem(\"CurUser\", JSON.stringify(res.data.user));\r\n                        this.$store.commit(\"setMenu\", res.data.menu);\r\n                        this.$router.replace(\"/Index\");\r\n                    } else {\r\n                        this.confirm_disabled = false;\r\n                        this.$message.error(\"校验失败，用户名或密码错误！\");\r\n                    }\r\n                })\r\n                .catch((e) => {\r\n                    this.confirm_disabled = false;\r\n                    this.showError(e);\r\n                });\r\n        },\r\n        loginWithPhone() {\r\n            // 使用手机号和验证码登录\r\n            this.$axios.post(this.$httpUrl + \"/user/loginWithCode\", this.loginForm)\r\n                .then((res) => res.data)\r\n                .then((res) => {\r\n                    if (res.code == 200) {\r\n                        sessionStorage.setItem(\"CurUser\", JSON.stringify(res.data.user));\r\n                        this.$store.commit(\"setMenu\", res.data.menu);\r\n                        this.$router.replace(\"/Index\");\r\n                    } else {\r\n                        this.confirm_disabled = false;\r\n                        this.$message.error(\"校验失败，手机号或验证码错误！\");\r\n                    }\r\n                })\r\n                .catch((e) => {\r\n                    this.confirm_disabled = false;\r\n                    this.showError(e);\r\n                });\r\n        },\r\n        showError(e) {\r\n            if (e.response == undefined || e.response.data == undefined) {\r\n                this.$message({\r\n                    showClose: true,\r\n                    message: e,\r\n                    type: \"error\",\r\n                    duration: 5000\r\n                });\r\n            } else {\r\n                this.$message({\r\n                    showClose: true,\r\n                    message: e.response.data,\r\n                    type: \"error\",\r\n                    duration: 5000\r\n                });\r\n            }\r\n        }\r\n    }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\nhtml,\r\nbody {\r\n    overflow-x: hidden;\r\n}\r\n\r\n.loginBody {\r\n    position: absolute;\r\n    width: 100%;\r\n    height: 100%;\r\n    background: url(\"../assets/home.png\");\r\n    background-size: 100% 100%;\r\n\r\n    overflow-x: hidden;\r\n}\r\n.loginDiv {\r\n    position: absolute;\r\n    top: 50%;\r\n    left: 50%;\r\n    margin-top: -200px;\r\n    margin-left: -320px;\r\n    width: 640px;\r\n    height: 330px;\r\n    background: #ffffff;\r\n    border-radius: 5%;\r\n    opacity: 0.9;\r\n}\r\n .login-left {\r\n    display: flex;\r\n    flex-direction: column;\r\n    background-size: cover;\r\n    width: 300px;\r\n    height: 328px;\r\n    flex-grow: 1;\r\n }\r\n .welcomeImag {\r\n    height: 91px;\r\n    width: 231px;\r\n    border: none;\r\n    margin: 0;\r\n }\r\n.left-title {\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n    align-items: center;\r\n    width: 100%;\r\n    margin-bottom: 10px;\r\n    flex-grow: 3;\r\n    color: #000000;\r\n}\r\n .left-bottom {\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    width: 100%;\r\n    height: 1px;\r\n    flex-grow: 1;\r\n    color: #000000;\r\n}\r\n\r\n.login-title {\r\n    margin: 20px 0;\r\n    text-align: center;\r\n}\r\n.login-content {\r\n    width: 400px;\r\n    height: 250px;\r\n    position: absolute;\r\n    top: 25px;\r\n    left: 232px;\r\n}\r\n</style>\r\n"]}]}