{"remainingRequest":"D:\\Work\\WorkSpace\\GitWorkSpace\\TenShop\\resource\\WarehouseManagerSystem\\src\\WarehouseManagerVue\\node_modules\\babel-loader\\lib\\index.js!D:\\Work\\WorkSpace\\GitWorkSpace\\TenShop\\resource\\WarehouseManagerSystem\\src\\WarehouseManagerVue\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\Work\\WorkSpace\\GitWorkSpace\\TenShop\\resource\\WarehouseManagerSystem\\src\\WarehouseManagerVue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Work\\WorkSpace\\GitWorkSpace\\TenShop\\resource\\WarehouseManagerSystem\\src\\WarehouseManagerVue\\src\\components\\record\\RecordManage.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Work\\WorkSpace\\GitWorkSpace\\TenShop\\resource\\WarehouseManagerSystem\\src\\WarehouseManagerVue\\src\\components\\record\\RecordManage.vue","mtime":1677915063823},{"path":"D:\\Work\\WorkSpace\\GitWorkSpace\\TenShop\\resource\\WarehouseManagerSystem\\src\\WarehouseManagerVue\\babel.config.js","mtime":1677915063811},{"path":"D:\\Work\\WorkSpace\\GitWorkSpace\\TenShop\\resource\\WarehouseManagerSystem\\src\\WarehouseManagerVue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1677927572803},{"path":"D:\\Work\\WorkSpace\\GitWorkSpace\\TenShop\\resource\\WarehouseManagerSystem\\src\\WarehouseManagerVue\\node_modules\\babel-loader\\lib\\index.js","mtime":1677927576192},{"path":"D:\\Work\\WorkSpace\\GitWorkSpace\\TenShop\\resource\\WarehouseManagerSystem\\src\\WarehouseManagerVue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1677927572803},{"path":"D:\\Work\\WorkSpace\\GitWorkSpace\\TenShop\\resource\\WarehouseManagerSystem\\src\\WarehouseManagerVue\\node_modules\\vue-loader\\lib\\index.js","mtime":1677927577316}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:ZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJSZWNvcmRNYW5hZ2UiLAoKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdXNlcjogSlNPTi5wYXJzZShzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCdDdXJVc2VyJykpLAogICAgICBzdG9yYWdlRGF0YTogW10sCiAgICAgIGdvb2RzdHlwZURhdGE6IFtdLAogICAgICB0YWJsZURhdGE6IFtdLAogICAgICBwYWdlU2l6ZTogMTAsCiAgICAgIHBhZ2VOdW06IDEsCiAgICAgIHRvdGFsOiAwLAogICAgICBuYW1lOiAnJywKICAgICAgc3RvcmFnZTogJycsCiAgICAgIGdvb2RzdHlwZTogJycsCiAgICAgIGNlbnRlckRpYWxvZ1Zpc2libGU6IGZhbHNlLAogICAgICBmb3JtOiB7CiAgICAgICAgaWQ6ICcnLAogICAgICAgIG5hbWU6ICcnLAogICAgICAgIHN0b3JhZ2U6ICcnLAogICAgICAgIGdvb2RzdHlwZTogJycsCiAgICAgICAgY291bnQ6ICcnLAogICAgICAgIHJlbWFyazogJycKICAgICAgfQogICAgfTsKICB9LAoKICBtZXRob2RzOiB7CiAgICBmb3JtYXRTdG9yYWdlKHJvdykgewogICAgICBsZXQgdGVtcCA9IHRoaXMuc3RvcmFnZURhdGEuZmluZChpdGVtID0+IHsKICAgICAgICByZXR1cm4gaXRlbS5pZCA9PSByb3cuc3RvcmFnZTsKICAgICAgfSk7CiAgICAgIHJldHVybiB0ZW1wICYmIHRlbXAubmFtZTsKICAgIH0sCgogICAgZm9ybWF0R29vZHN0eXBlKHJvdykgewogICAgICBsZXQgdGVtcCA9IHRoaXMuZ29vZHN0eXBlRGF0YS5maW5kKGl0ZW0gPT4gewogICAgICAgIHJldHVybiBpdGVtLmlkID09IHJvdy5nb29kc3R5cGU7CiAgICAgIH0pOwogICAgICByZXR1cm4gdGVtcCAmJiB0ZW1wLm5hbWU7CiAgICB9LAoKICAgIHJlc2V0Rm9ybSgpIHsKICAgICAgdGhpcy4kcmVmcy5mb3JtLnJlc2V0RmllbGRzKCk7CiAgICB9LAoKICAgIGhhbmRsZVNpemVDaGFuZ2UodmFsKSB7CiAgICAgIGNvbnNvbGUubG9nKGDmr4/pobUgJHt2YWx9IOadoWApOwogICAgICB0aGlzLnBhZ2VOdW0gPSAxOwogICAgICB0aGlzLnBhZ2VTaXplID0gdmFsOwogICAgICB0aGlzLmxvYWRQb3N0KCk7CiAgICB9LAoKICAgIGhhbmRsZUN1cnJlbnRDaGFuZ2UodmFsKSB7CiAgICAgIGNvbnNvbGUubG9nKGDlvZPliY3pobU6ICR7dmFsfWApOwogICAgICB0aGlzLnBhZ2VOdW0gPSB2YWw7CiAgICAgIHRoaXMubG9hZFBvc3QoKTsKICAgIH0sCgogICAgcmVzZXRQYXJhbSgpIHsKICAgICAgdGhpcy5uYW1lID0gJyc7CiAgICAgIHRoaXMuc3RvcmFnZSA9ICcnOwogICAgICB0aGlzLmdvb2RzdHlwZSA9ICcnOwogICAgfSwKCiAgICBsb2FkU3RvcmFnZSgpIHsKICAgICAgdGhpcy4kYXhpb3MuZ2V0KHRoaXMuJGh0dHBVcmwgKyAnL3N0b3JhZ2UvbGlzdCcpLnRoZW4ocmVzID0+IHJlcy5kYXRhKS50aGVuKHJlcyA9PiB7CiAgICAgICAgY29uc29sZS5sb2cocmVzKTsKCiAgICAgICAgaWYgKHJlcy5jb2RlID09IDIwMCkgewogICAgICAgICAgdGhpcy5zdG9yYWdlRGF0YSA9IHJlcy5kYXRhOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBhbGVydCgn6I635Y+W5pWw5o2u5aSx6LSlJyk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCgogICAgbG9hZEdvb2RzdHlwZSgpIHsKICAgICAgdGhpcy4kYXhpb3MuZ2V0KHRoaXMuJGh0dHBVcmwgKyAnL2dvb2RzdHlwZS9saXN0JykudGhlbihyZXMgPT4gcmVzLmRhdGEpLnRoZW4ocmVzID0+IHsKICAgICAgICBjb25zb2xlLmxvZyhyZXMpOwoKICAgICAgICBpZiAocmVzLmNvZGUgPT0gMjAwKSB7CiAgICAgICAgICB0aGlzLmdvb2RzdHlwZURhdGEgPSByZXMuZGF0YTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgYWxlcnQoJ+iOt+WPluaVsOaNruWksei0pScpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAoKICAgIGxvYWRQb3N0KCkgewogICAgICB0aGlzLiRheGlvcy5wb3N0KHRoaXMuJGh0dHBVcmwgKyAnL3JlY29yZC9saXN0UGFnZScsIHsKICAgICAgICBwYWdlU2l6ZTogdGhpcy5wYWdlU2l6ZSwKICAgICAgICBwYWdlTnVtOiB0aGlzLnBhZ2VOdW0sCiAgICAgICAgcGFyYW06IHsKICAgICAgICAgIG5hbWU6IHRoaXMubmFtZSwKICAgICAgICAgIGdvb2RzdHlwZTogdGhpcy5nb29kc3R5cGUgKyAnJywKICAgICAgICAgIHN0b3JhZ2U6IHRoaXMuc3RvcmFnZSArICcnLAogICAgICAgICAgcm9sZUlkOiB0aGlzLnVzZXIucm9sZUlkICsgJycsCiAgICAgICAgICB1c2VySWQ6IHRoaXMudXNlci5pZCArICcnCiAgICAgICAgfQogICAgICB9KS50aGVuKHJlcyA9PiByZXMuZGF0YSkudGhlbihyZXMgPT4gewogICAgICAgIGNvbnNvbGUubG9nKHJlcyk7CgogICAgICAgIGlmIChyZXMuY29kZSA9PSAyMDApIHsKICAgICAgICAgIHRoaXMudGFibGVEYXRhID0gcmVzLmRhdGE7CiAgICAgICAgICB0aGlzLnRvdGFsID0gcmVzLnRvdGFsOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBhbGVydCgn6I635Y+W5pWw5o2u5aSx6LSlJyk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KCiAgfSwKCiAgYmVmb3JlTW91bnQoKSB7CiAgICB0aGlzLmxvYWRTdG9yYWdlKCk7CiAgICB0aGlzLmxvYWRHb29kc3R5cGUoKTsKICAgIHRoaXMubG9hZFBvc3QoKTsKICB9Cgp9Ow=="},{"version":3,"mappings":"AA+DA;EACAA,oBADA;;EAEAC;IAEA;MACAC,mDADA;MAEAC,eAFA;MAGAC,iBAHA;MAIAC,aAJA;MAKAC,YALA;MAMAC,UANA;MAOAC,QAPA;MAQAR,QARA;MASAS,WATA;MAUAC,aAVA;MAWAC,0BAXA;MAYAC;QACAC,MADA;QAEAb,QAFA;QAGAS,WAHA;QAIAC,aAJA;QAKAI,SALA;QAMAC;MANA;IAZA;EAqBA,CAzBA;;EA0BAC;IACAC;MACA;QACA;MACA,CAFA;MAIA;IACA,CAPA;;IAQAC;MACA;QACA;MACA,CAFA;MAIA;IACA,CAdA;;IAeAC;MACA;IACA,CAjBA;;IAkBAC;MACAC;MACA;MACA;MACA;IACA,CAvBA;;IAwBAC;MACAD;MACA;MACA;IACA,CA5BA;;IA6BAE;MACA;MACA;MACA;IACA,CAjCA;;IAkCAC;MACA;QACAH;;QACA;UACA;QACA,CAFA,MAEA;UACAI;QACA;MAEA,CARA;IASA,CA5CA;;IA6CAC;MACA;QACAL;;QACA;UACA;QACA,CAFA,MAEA;UACAI;QACA;MAEA,CARA;IASA,CAvDA;;IAwDAE;MACA;QACArB,uBADA;QAEAC,qBAFA;QAGAqB;UACA5B,eADA;UAEAU,8BAFA;UAGAD,0BAHA;UAIAoB,6BAJA;UAKAC;QALA;MAHA,GAUAC,IAVA,CAUAC,eAVA,EAUAD,IAVA,CAUAC;QACAX;;QACA;UACA;UACA;QACA,CAHA,MAGA;UACAI;QACA;MAEA,CAnBA;IAoBA;;EA7EA,CA1BA;;EAyGAQ;IACA;IACA;IACA;EAEA;;AA9GA","names":["name","data","user","storageData","goodstypeData","tableData","pageSize","pageNum","total","storage","goodstype","centerDialogVisible","form","id","count","remark","methods","formatStorage","formatGoodstype","resetForm","handleSizeChange","console","handleCurrentChange","resetParam","loadStorage","alert","loadGoodstype","loadPost","param","roleId","userId","then","res","beforeMount"],"sourceRoot":"src/components/record","sources":["RecordManage.vue"],"sourcesContent":["<template>\r\n    <div>\r\n        <div style=\"margin-bottom: 5px;\">\r\n            <el-input v-model=\"name\" placeholder=\"请输入物品名\" suffix-icon=\"el-icon-search\" style=\"width: 200px;\"\r\n                      @keyup.enter.native=\"loadPost\"></el-input>\r\n            <el-select v-model=\"storage\" placeholder=\"请选择仓库\" style=\"margin-left: 5px;\">\r\n                <el-option\r\n                        v-for=\"item in storageData\"\r\n                        :key=\"item.id\"\r\n                        :label=\"item.name\"\r\n                        :value=\"item.id\">\r\n                </el-option>\r\n            </el-select>\r\n            <el-select v-model=\"goodstype\" placeholder=\"请选择分类\" style=\"margin-left: 5px;\">\r\n                <el-option\r\n                        v-for=\"item in goodstypeData\"\r\n                        :key=\"item.id\"\r\n                        :label=\"item.name\"\r\n                        :value=\"item.id\">\r\n                </el-option>\r\n            </el-select>\r\n\r\n            <el-button type=\"primary\" style=\"margin-left: 5px;\" @click=\"loadPost\">查询</el-button>\r\n            <el-button type=\"success\" @click=\"resetParam\">重置</el-button>\r\n\r\n\r\n        </div>\r\n        <el-table :data=\"tableData\"\r\n                  :header-cell-style=\"{ background: '#f2f5fc', color: '#555555' }\"\r\n                  border\r\n        >\r\n            <el-table-column prop=\"id\" label=\"ID\" width=\"60\">\r\n            </el-table-column>\r\n            <el-table-column prop=\"goodsname\" label=\"物品名\" width=\"150\">\r\n            </el-table-column>\r\n            <el-table-column prop=\"storagename\" label=\"仓库\" width=\"150\">\r\n            </el-table-column>\r\n            <el-table-column prop=\"goodstypename\" label=\"分类\" width=\"150\">\r\n            </el-table-column>\r\n            <el-table-column prop=\"adminname\" label=\"操作人\" width=\"150\">\r\n            </el-table-column>\r\n            <el-table-column prop=\"username\" label=\"申请人\" width=\"150\">\r\n            </el-table-column>\r\n            <el-table-column prop=\"count\" label=\"数量\" width=\"150\">\r\n            </el-table-column>\r\n            <el-table-column prop=\"createtime\" label=\"操作时间\" width=\"180\">\r\n            </el-table-column>\r\n            <el-table-column prop=\"remark\" label=\"备注\" width=\"180\">\r\n            </el-table-column>\r\n        </el-table>\r\n        <el-pagination\r\n                @size-change=\"handleSizeChange\"\r\n                @current-change=\"handleCurrentChange\"\r\n                :current-page=\"pageNum\"\r\n                :page-sizes=\"[5, 10, 20,30]\"\r\n                :page-size=\"pageSize\"\r\n                layout=\"total, sizes, prev, pager, next, jumper\"\r\n                :total=\"total\">\r\n        </el-pagination>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        name: \"RecordManage\",\r\n        data() {\r\n\r\n            return {\r\n                user : JSON.parse(sessionStorage.getItem('CurUser')),\r\n                storageData:[],\r\n                goodstypeData:[],\r\n                tableData: [],\r\n                pageSize:10,\r\n                pageNum:1,\r\n                total:0,\r\n                name:'',\r\n                storage:'',\r\n                goodstype:'',\r\n                centerDialogVisible:false,\r\n                form:{\r\n                    id:'',\r\n                    name:'',\r\n                    storage:'',\r\n                    goodstype:'',\r\n                    count:'',\r\n                    remark:''\r\n                },\r\n            }\r\n        },\r\n        methods:{\r\n            formatStorage(row){\r\n                let temp =  this.storageData.find(item=>{\r\n                    return item.id == row.storage\r\n                })\r\n\r\n                return temp && temp.name\r\n            },\r\n            formatGoodstype(row){\r\n                let temp =  this.goodstypeData.find(item=>{\r\n                    return item.id == row.goodstype\r\n                })\r\n\r\n                return temp && temp.name\r\n            },\r\n            resetForm() {\r\n                this.$refs.form.resetFields();\r\n            },\r\n            handleSizeChange(val) {\r\n                console.log(`每页 ${val} 条`);\r\n                this.pageNum=1\r\n                this.pageSize=val\r\n                this.loadPost()\r\n            },\r\n            handleCurrentChange(val) {\r\n                console.log(`当前页: ${val}`);\r\n                this.pageNum=val\r\n                this.loadPost()\r\n            },\r\n            resetParam(){\r\n                this.name=''\r\n                this.storage=''\r\n                this.goodstype=''\r\n            },\r\n            loadStorage(){\r\n                this.$axios.get(this.$httpUrl+'/storage/list').then(res=>res.data).then(res=>{\r\n                    console.log(res)\r\n                    if(res.code==200){\r\n                        this.storageData=res.data\r\n                    }else{\r\n                        alert('获取数据失败')\r\n                    }\r\n\r\n                })\r\n            },\r\n            loadGoodstype(){\r\n                this.$axios.get(this.$httpUrl+'/goodstype/list').then(res=>res.data).then(res=>{\r\n                    console.log(res)\r\n                    if(res.code==200){\r\n                        this.goodstypeData=res.data\r\n                    }else{\r\n                        alert('获取数据失败')\r\n                    }\r\n\r\n                })\r\n            },\r\n            loadPost(){\r\n                this.$axios.post(this.$httpUrl+'/record/listPage',{\r\n                    pageSize:this.pageSize,\r\n                    pageNum:this.pageNum,\r\n                    param:{\r\n                        name:this.name,\r\n                        goodstype:this.goodstype+'',\r\n                        storage:this.storage+'',\r\n                        roleId:this.user.roleId+'',\r\n                        userId:this.user.id+''\r\n                    }\r\n                }).then(res=>res.data).then(res=>{\r\n                    console.log(res)\r\n                    if(res.code==200){\r\n                        this.tableData=res.data\r\n                        this.total=res.total\r\n                    }else{\r\n                        alert('获取数据失败')\r\n                    }\r\n\r\n                })\r\n            },\r\n        },\r\n        beforeMount() {\r\n            this.loadStorage()\r\n            this.loadGoodstype()\r\n            this.loadPost()\r\n\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>"]}]}