{"remainingRequest":"D:\\java仓库管理\\java仓库管理\\仓库管理系统\\WarehouseManager\\源代码\\WarehouseManager\\WarehouseManagerVue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\java仓库管理\\java仓库管理\\仓库管理系统\\WarehouseManager\\源代码\\WarehouseManager\\WarehouseManagerVue\\src\\components\\Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\java仓库管理\\java仓库管理\\仓库管理系统\\WarehouseManager\\源代码\\WarehouseManager\\WarehouseManagerVue\\src\\components\\Login.vue","mtime":1719644851827},{"path":"D:\\java仓库管理\\java仓库管理\\仓库管理系统\\WarehouseManager\\源代码\\WarehouseManager\\WarehouseManagerVue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1677927572803},{"path":"D:\\java仓库管理\\java仓库管理\\仓库管理系统\\WarehouseManager\\源代码\\WarehouseManager\\WarehouseManagerVue\\node_modules\\@vue\\cli-plugin-babel\\node_modules\\babel-loader\\lib\\index.js","mtime":1720022418374},{"path":"D:\\java仓库管理\\java仓库管理\\仓库管理系统\\WarehouseManager\\源代码\\WarehouseManager\\WarehouseManagerVue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1677927572803},{"path":"D:\\java仓库管理\\java仓库管理\\仓库管理系统\\WarehouseManager\\源代码\\WarehouseManager\\WarehouseManagerVue\\node_modules\\vue-loader\\lib\\index.js","mtime":1677927577316}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQpleHBvcnQgZGVmYXVsdCB7DQogICAgbmFtZTogIkxvZ2luIiwNCiAgICBkYXRhKCkgew0KICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAgbG9naW5UeXBlOiAnYWNjb3VudCcsIC8vIOeZu+W9leexu+Wei++8midhY2NvdW50JyDmiJYgJ3Bob25lJw0KICAgICAgICAgICAgY29uZmlybV9kaXNhYmxlZDogZmFsc2UsIC8vIOmYsuatouWkmuasoeaPkOS6pA0KICAgICAgICAgICAgY29kZV9kaXNhYmxlZDogZmFsc2UsIC8vIOmqjOivgeeggeaMiemSruaYr+WQpuemgeeUqA0KICAgICAgICAgICAgY29kZV90ZXh0OiAn6I635Y+W6aqM6K+B56CBJywNCiAgICAgICAgICAgIGxvZ2luRm9ybTogew0KICAgICAgICAgICAgICAgIG5vOiAiIiwNCiAgICAgICAgICAgICAgICBwYXNzd29yZDogIiIsDQogICAgICAgICAgICAgICAgcGhvbmU6ICIiLA0KICAgICAgICAgICAgICAgIGNvZGU6ICIiDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgcnVsZXM6IHsNCiAgICAgICAgICAgICAgICBubzogWw0KICAgICAgICAgICAgICAgICAgICB7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAi6K+36L6T5YWl6LSm5Y+3IiwgdHJpZ2dlcjogImJsdXIiIH0NCiAgICAgICAgICAgICAgICBdLA0KICAgICAgICAgICAgICAgIHBhc3N3b3JkOiBbDQogICAgICAgICAgICAgICAgICAgIHsgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICLor7fovpPlr4bnoIEiLCB0cmlnZ2VyOiAiYmx1ciIgfQ0KICAgICAgICAgICAgICAgIF0sDQogICAgICAgICAgICAgICAgcGhvbmU6IFsNCiAgICAgICAgICAgICAgICAgICAgeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogIuivt+i+k+WFpeaJi+acuuWPtyIsIHRyaWdnZXI6ICJibHVyIiB9DQogICAgICAgICAgICAgICAgXSwNCiAgICAgICAgICAgICAgICBjb2RlOiBbDQogICAgICAgICAgICAgICAgICAgIHsgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICLor7fovpPlhaXpqozor4HnoIEiLCB0cmlnZ2VyOiAiYmx1ciIgfQ0KICAgICAgICAgICAgICAgIF0NCiAgICAgICAgICAgIH0NCiAgICAgICAgfTsNCiAgICB9LA0KICAgIG1ldGhvZHM6IHsNCiAgICAgICAgdG9nZ2xlTG9naW5UeXBlKCkgew0KICAgICAgICAgICAgdGhpcy5sb2dpblR5cGUgPSB0aGlzLmxvZ2luVHlwZSA9PT0gJ2FjY291bnQnID8gJ3Bob25lJyA6ICdhY2NvdW50JzsNCiAgICAgICAgfSwNCiAgICAgICAgc2VuZENvZGUoKSB7DQogICAgICAgICAgICBpZiAodGhpcy5sb2dpbkZvcm0ucGhvbmUgPT09ICcnKSB7DQogICAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcign6K+36L6T5YWl5omL5py65Y+3Jyk7DQogICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgdGhpcy5jb2RlX2Rpc2FibGVkID0gdHJ1ZTsNCiAgICAgICAgICAgIHRoaXMuY29kZV90ZXh0ID0gJ+WPkemAgeS4rS4uLic7DQogICAgICAgICAgICAvLyDosIPnlKjlj5HpgIHpqozor4HnoIHnmoTmjqXlj6MNCiAgICAgICAgICAgIHRoaXMuJGF4aW9zLnBvc3QodGhpcy4kaHR0cFVybCArICIvdXNlci9zZW5kQ29kZSIsIHsgcGhvbmU6IHRoaXMubG9naW5Gb3JtLnBob25lIH0pDQogICAgICAgICAgICAgICAgLnRoZW4oKHJlcykgPT4gcmVzLmRhdGEpDQogICAgICAgICAgICAgICAgLnRoZW4oKHJlcykgPT4gew0KICAgICAgICAgICAgICAgICAgICBpZiAocmVzLmNvZGUgPT0gMjAwKSB7DQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoJ+mqjOivgeeggeW3suWPkemAgScpOw0KICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGFydENvZGVUaW1lcigpOw0KICAgICAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcign5Y+R6YCB6aqM6K+B56CB5aSx6LSlJyk7DQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvZGVfZGlzYWJsZWQgPSBmYWxzZTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29kZV90ZXh0ID0gJ+iOt+WPlumqjOivgeeggSc7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAgIC5jYXRjaCgoZSkgPT4gew0KICAgICAgICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCflj5HpgIHpqozor4HnoIHlpLHotKUnKTsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb2RlX2Rpc2FibGVkID0gZmFsc2U7DQogICAgICAgICAgICAgICAgICAgIHRoaXMuY29kZV90ZXh0ID0gJ+iOt+WPlumqjOivgeeggSc7DQogICAgICAgICAgICAgICAgfSk7DQogICAgICAgIH0sDQogICAgICAgIHN0YXJ0Q29kZVRpbWVyKCkgew0KICAgICAgICAgICAgbGV0IGNvdW50ID0gNjA7DQogICAgICAgICAgICBjb25zdCB0aW1lciA9IHNldEludGVydmFsKCgpID0+IHsNCiAgICAgICAgICAgICAgICBpZiAoY291bnQgPiAwKSB7DQogICAgICAgICAgICAgICAgICAgIHRoaXMuY29kZV90ZXh0ID0gYCR7Y291bnQtLX3np5LlkI7ph43or5VgOw0KICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGltZXIpOw0KICAgICAgICAgICAgICAgICAgICB0aGlzLmNvZGVfZGlzYWJsZWQgPSBmYWxzZTsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb2RlX3RleHQgPSAn6I635Y+W6aqM6K+B56CBJzsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9LCAxMDAwKTsNCiAgICAgICAgfSwNCiAgICAgICAgY29uZmlybSgpIHsNCiAgICAgICAgICAgIHRoaXMuY29uZmlybV9kaXNhYmxlZCA9IHRydWU7DQogICAgICAgICAgICB0aGlzLiRyZWZzLmxvZ2luRm9ybS52YWxpZGF0ZSgodmFsaWQpID0+IHsNCiAgICAgICAgICAgICAgICBpZiAodmFsaWQpIHsNCiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMubG9naW5UeXBlID09PSAnYWNjb3VudCcpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9naW5XaXRoUGFzc3dvcmQoKTsNCiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9naW5XaXRoUGhvbmUoKTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgIHRoaXMuY29uZmlybV9kaXNhYmxlZCA9IGZhbHNlOw0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSk7DQogICAgICAgIH0sDQogICAgICAgIGxvZ2luV2l0aFBhc3N3b3JkKCkgew0KICAgICAgICAgICAgLy8g5L2/55So6LSm5Y+35a+G56CB55m75b2VDQogICAgICAgICAgICB0aGlzLiRheGlvcy5wb3N0KHRoaXMuJGh0dHBVcmwgKyAiL3VzZXIvbG9naW4iLCB0aGlzLmxvZ2luRm9ybSkNCiAgICAgICAgICAgICAgICAudGhlbigocmVzKSA9PiByZXMuZGF0YSkNCiAgICAgICAgICAgICAgICAudGhlbigocmVzKSA9PiB7DQogICAgICAgICAgICAgICAgICAgIGlmIChyZXMuY29kZSA9PSAyMDApIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oIkN1clVzZXIiLCBKU09OLnN0cmluZ2lmeShyZXMuZGF0YS51c2VyKSk7DQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoInNldE1lbnUiLCByZXMuZGF0YS5tZW51KTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5yZXBsYWNlKCIvSW5kZXgiKTsNCiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29uZmlybV9kaXNhYmxlZCA9IGZhbHNlOw0KICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcigi5qCh6aqM5aSx6LSl77yM55So5oi35ZCN5oiW5a+G56CB6ZSZ6K+v77yBIik7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAgIC5jYXRjaCgoZSkgPT4gew0KICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbmZpcm1fZGlzYWJsZWQgPSBmYWxzZTsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5zaG93RXJyb3IoZSk7DQogICAgICAgICAgICAgICAgfSk7DQogICAgICAgIH0sDQogICAgICAgIGxvZ2luV2l0aFBob25lKCkgew0KICAgICAgICAgICAgLy8g5L2/55So5omL5py65Y+35ZKM6aqM6K+B56CB55m75b2VDQogICAgICAgICAgICB0aGlzLiRheGlvcy5wb3N0KHRoaXMuJGh0dHBVcmwgKyAiL3VzZXIvbG9naW5XaXRoQ29kZSIsIHRoaXMubG9naW5Gb3JtKQ0KICAgICAgICAgICAgICAgIC50aGVuKChyZXMpID0+IHJlcy5kYXRhKQ0KICAgICAgICAgICAgICAgIC50aGVuKChyZXMpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgaWYgKHJlcy5jb2RlID09IDIwMCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgiQ3VyVXNlciIsIEpTT04uc3RyaW5naWZ5KHJlcy5kYXRhLnVzZXIpKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgic2V0TWVudSIsIHJlcy5kYXRhLm1lbnUpOw0KICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kcm91dGVyLnJlcGxhY2UoIi9JbmRleCIpOw0KICAgICAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb25maXJtX2Rpc2FibGVkID0gZmFsc2U7DQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCLmoKHpqozlpLHotKXvvIzmiYvmnLrlj7fmiJbpqozor4HnoIHplJnor6/vvIEiKTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgLmNhdGNoKChlKSA9PiB7DQogICAgICAgICAgICAgICAgICAgIHRoaXMuY29uZmlybV9kaXNhYmxlZCA9IGZhbHNlOw0KICAgICAgICAgICAgICAgICAgICB0aGlzLnNob3dFcnJvcihlKTsNCiAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgfSwNCiAgICAgICAgc2hvd0Vycm9yKGUpIHsNCiAgICAgICAgICAgIGlmIChlLnJlc3BvbnNlID09IHVuZGVmaW5lZCB8fCBlLnJlc3BvbnNlLmRhdGEgPT0gdW5kZWZpbmVkKSB7DQogICAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZSh7DQogICAgICAgICAgICAgICAgICAgIHNob3dDbG9zZTogdHJ1ZSwNCiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogZSwNCiAgICAgICAgICAgICAgICAgICAgdHlwZTogImVycm9yIiwNCiAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IDUwMDANCiAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZSh7DQogICAgICAgICAgICAgICAgICAgIHNob3dDbG9zZTogdHJ1ZSwNCiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogZS5yZXNwb25zZS5kYXRhLA0KICAgICAgICAgICAgICAgICAgICB0eXBlOiAiZXJyb3IiLA0KICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogNTAwMA0KICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgfQ0KfTsNCg=="},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";AA+FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Login.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n    <div class=\"loginBody\">\r\n        <div class=\"loginDiv\">\r\n            <div class=\"login-left\">\r\n                <div class=\"left-title\">\r\n                    <img src=\"../assets/welcome.png\" alt=\"welcome\" class = \"welcomeImag\"/>\r\n                    <h2>文松管理系统</h2>\r\n                </div>\r\n                <div class=\"left-bottom\">\r\n                    <p>2024 © 文松出品</p>\r\n                </div>\r\n            </div>\r\n            <div class=\"login-content\">\r\n                <el-row>\r\n                    <el-col style=\"text-align: center; padding: 25px 0 25px 0\">\r\n                        <i\r\n                            class=\"iconfont icon-r-building\"\r\n                            style=\"font-size: 36px\"\r\n                        ></i>\r\n                        <b style=\"font-size: 35px; font-family: 'Noto Sans', sans-serif; font-weight: 500;\"> 欢迎登录</b>\r\n                    </el-col>\r\n                </el-row>\r\n                <el-form\r\n                    :model=\"loginForm\"\r\n                    label-width=\"100px\"\r\n                    :rules=\"rules\"\r\n                    ref=\"loginForm\"\r\n                >\r\n                    <el-form-item label=\"账号\" v-if=\"loginType === 'account'\" prop=\"no\">\r\n                        <el-input\r\n                            style=\"width: 200px\"\r\n                            type=\"text\"\r\n                            v-model=\"loginForm.no\"\r\n                            autocomplete=\"off\"\r\n                            placeholder=\"请输入账号\"\r\n                        ></el-input>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"密码\" v-if=\"loginType === 'account'\" prop=\"password\">\r\n                        <el-input\r\n                            style=\"width: 200px\"\r\n                            type=\"password\"\r\n                            v-model=\"loginForm.password\"\r\n                            show-password\r\n                            autocomplete=\"off\"\r\n                            @keyup.enter.native=\"confirm\"\r\n                            placeholder=\"请输入密码\"\r\n                        ></el-input>\r\n                    </el-form-item>\r\n\r\n                    <el-form-item label=\"手机号\" v-if=\"loginType === 'phone'\" prop=\"phone\">\r\n                        <el-input\r\n                            style=\"width: 200px\"\r\n                            type=\"text\"\r\n                            v-model=\"loginForm.phone\"\r\n                            autocomplete=\"off\"\r\n                            placeholder=\"请输入手机号\"\r\n                        ></el-input>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"验证码\" v-if=\"loginType === 'phone'\" prop=\"code\">\r\n                        <el-row>\r\n                            <el-col :span=\"14\">\r\n                                <el-input\r\n                                    style=\"width: 150px\"\r\n                                    type=\"text\"\r\n                                    v-model=\"loginForm.code\"\r\n                                    autocomplete=\"off\"\r\n                                    placeholder=\"点击右侧获取\"\r\n                                ></el-input>\r\n                            </el-col>\r\n                            <el-col :span=\"10\">\r\n                                <el-button @click=\"sendCode\" style=\"margin-left: -26px\" :disabled=\"code_disabled\">{{ code_text }}</el-button>\r\n                            </el-col>\r\n                        </el-row>\r\n                    </el-form-item>\r\n                    <el-form-item style=\"padding-left: 45px\">\r\n                        <el-button\r\n                            type=\"primary\"\r\n                            @click=\"confirm\"\r\n                            :disabled=\"confirm_disabled\"\r\n                            style=\"font-size: 20px\"\r\n                        >\r\n                            登 录\r\n                        </el-button>\r\n                    </el-form-item>\r\n\r\n                    <el-form-item style=\"text-align: center; margin-left: 130px\">\r\n                        <el-link @click=\"toggleLoginType\">{{ loginType === 'account' ? '使用手机号登录' : '使用账号密码登录' }}</el-link>\r\n                    </el-form-item>\r\n                </el-form>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    name: \"Login\",\r\n    data() {\r\n        return {\r\n            loginType: 'account', // 登录类型：'account' 或 'phone'\r\n            confirm_disabled: false, // 防止多次提交\r\n            code_disabled: false, // 验证码按钮是否禁用\r\n            code_text: '获取验证码',\r\n            loginForm: {\r\n                no: \"\",\r\n                password: \"\",\r\n                phone: \"\",\r\n                code: \"\"\r\n            },\r\n            rules: {\r\n                no: [\r\n                    { required: true, message: \"请输入账号\", trigger: \"blur\" }\r\n                ],\r\n                password: [\r\n                    { required: true, message: \"请输密码\", trigger: \"blur\" }\r\n                ],\r\n                phone: [\r\n                    { required: true, message: \"请输入手机号\", trigger: \"blur\" }\r\n                ],\r\n                code: [\r\n                    { required: true, message: \"请输入验证码\", trigger: \"blur\" }\r\n                ]\r\n            }\r\n        };\r\n    },\r\n    methods: {\r\n        toggleLoginType() {\r\n            this.loginType = this.loginType === 'account' ? 'phone' : 'account';\r\n        },\r\n        sendCode() {\r\n            if (this.loginForm.phone === '') {\r\n                this.$message.error('请输入手机号');\r\n                return;\r\n            }\r\n            this.code_disabled = true;\r\n            this.code_text = '发送中...';\r\n            // 调用发送验证码的接口\r\n            this.$axios.post(this.$httpUrl + \"/user/sendCode\", { phone: this.loginForm.phone })\r\n                .then((res) => res.data)\r\n                .then((res) => {\r\n                    if (res.code == 200) {\r\n                        this.$message.success('验证码已发送');\r\n                        this.startCodeTimer();\r\n                    } else {\r\n                        this.$message.error('发送验证码失败');\r\n                        this.code_disabled = false;\r\n                        this.code_text = '获取验证码';\r\n                    }\r\n                })\r\n                .catch((e) => {\r\n                    this.$message.error('发送验证码失败');\r\n                    this.code_disabled = false;\r\n                    this.code_text = '获取验证码';\r\n                });\r\n        },\r\n        startCodeTimer() {\r\n            let count = 60;\r\n            const timer = setInterval(() => {\r\n                if (count > 0) {\r\n                    this.code_text = `${count--}秒后重试`;\r\n                } else {\r\n                    clearInterval(timer);\r\n                    this.code_disabled = false;\r\n                    this.code_text = '获取验证码';\r\n                }\r\n            }, 1000);\r\n        },\r\n        confirm() {\r\n            this.confirm_disabled = true;\r\n            this.$refs.loginForm.validate((valid) => {\r\n                if (valid) {\r\n                    if (this.loginType === 'account') {\r\n                        this.loginWithPassword();\r\n                    } else {\r\n                        this.loginWithPhone();\r\n                    }\r\n                } else {\r\n                    this.confirm_disabled = false;\r\n                    return false;\r\n                }\r\n            });\r\n        },\r\n        loginWithPassword() {\r\n            // 使用账号密码登录\r\n            this.$axios.post(this.$httpUrl + \"/user/login\", this.loginForm)\r\n                .then((res) => res.data)\r\n                .then((res) => {\r\n                    if (res.code == 200) {\r\n                        sessionStorage.setItem(\"CurUser\", JSON.stringify(res.data.user));\r\n                        this.$store.commit(\"setMenu\", res.data.menu);\r\n                        this.$router.replace(\"/Index\");\r\n                    } else {\r\n                        this.confirm_disabled = false;\r\n                        this.$message.error(\"校验失败，用户名或密码错误！\");\r\n                    }\r\n                })\r\n                .catch((e) => {\r\n                    this.confirm_disabled = false;\r\n                    this.showError(e);\r\n                });\r\n        },\r\n        loginWithPhone() {\r\n            // 使用手机号和验证码登录\r\n            this.$axios.post(this.$httpUrl + \"/user/loginWithCode\", this.loginForm)\r\n                .then((res) => res.data)\r\n                .then((res) => {\r\n                    if (res.code == 200) {\r\n                        sessionStorage.setItem(\"CurUser\", JSON.stringify(res.data.user));\r\n                        this.$store.commit(\"setMenu\", res.data.menu);\r\n                        this.$router.replace(\"/Index\");\r\n                    } else {\r\n                        this.confirm_disabled = false;\r\n                        this.$message.error(\"校验失败，手机号或验证码错误！\");\r\n                    }\r\n                })\r\n                .catch((e) => {\r\n                    this.confirm_disabled = false;\r\n                    this.showError(e);\r\n                });\r\n        },\r\n        showError(e) {\r\n            if (e.response == undefined || e.response.data == undefined) {\r\n                this.$message({\r\n                    showClose: true,\r\n                    message: e,\r\n                    type: \"error\",\r\n                    duration: 5000\r\n                });\r\n            } else {\r\n                this.$message({\r\n                    showClose: true,\r\n                    message: e.response.data,\r\n                    type: \"error\",\r\n                    duration: 5000\r\n                });\r\n            }\r\n        }\r\n    }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\nhtml,\r\nbody {\r\n    overflow-x: hidden;\r\n}\r\n\r\n.loginBody {\r\n    position: absolute;\r\n    width: 100%;\r\n    height: 100%;\r\n    background: url(\"../assets/home.png\");\r\n    background-size: 100% 100%;\r\n\r\n    overflow-x: hidden;\r\n}\r\n.loginDiv {\r\n    position: absolute;\r\n    top: 50%;\r\n    left: 50%;\r\n    margin-top: -200px;\r\n    margin-left: -320px;\r\n    width: 640px;\r\n    height: 330px;\r\n    background: #ffffff;\r\n    border-radius: 5%;\r\n    opacity: 0.9;\r\n}\r\n .login-left {\r\n    display: flex;\r\n    flex-direction: column;\r\n    background-size: cover;\r\n    width: 300px;\r\n    height: 328px;\r\n    flex-grow: 1;\r\n }\r\n .welcomeImag {\r\n    height: 91px;\r\n    width: 231px;\r\n    border: none;\r\n    margin: 0;\r\n }\r\n.left-title {\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n    align-items: center;\r\n    width: 100%;\r\n    margin-bottom: 10px;\r\n    flex-grow: 3;\r\n    color: #000000;\r\n}\r\n .left-bottom {\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    width: 100%;\r\n    height: 1px;\r\n    flex-grow: 1;\r\n    color: #000000;\r\n}\r\n\r\n.login-title {\r\n    margin: 20px 0;\r\n    text-align: center;\r\n}\r\n.login-content {\r\n    width: 400px;\r\n    height: 250px;\r\n    position: absolute;\r\n    top: 25px;\r\n    left: 232px;\r\n}\r\n</style>\r\n"]}]}