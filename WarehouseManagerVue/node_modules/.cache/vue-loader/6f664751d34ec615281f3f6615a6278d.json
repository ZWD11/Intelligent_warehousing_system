{"remainingRequest":"D:\\Work\\WorkSpace\\GitWorkSpace\\TenShop\\resource\\WarehouseManagerSystem\\src\\WarehouseManagerVue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Work\\WorkSpace\\GitWorkSpace\\TenShop\\resource\\WarehouseManagerSystem\\src\\WarehouseManagerVue\\src\\components\\record\\RecordManage.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Work\\WorkSpace\\GitWorkSpace\\TenShop\\resource\\WarehouseManagerSystem\\src\\WarehouseManagerVue\\src\\components\\record\\RecordManage.vue","mtime":1677915063823},{"path":"D:\\Work\\WorkSpace\\GitWorkSpace\\TenShop\\resource\\WarehouseManagerSystem\\src\\WarehouseManagerVue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1677927572803},{"path":"D:\\Work\\WorkSpace\\GitWorkSpace\\TenShop\\resource\\WarehouseManagerSystem\\src\\WarehouseManagerVue\\node_modules\\babel-loader\\lib\\index.js","mtime":1677927576192},{"path":"D:\\Work\\WorkSpace\\GitWorkSpace\\TenShop\\resource\\WarehouseManagerSystem\\src\\WarehouseManagerVue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1677927572803},{"path":"D:\\Work\\WorkSpace\\GitWorkSpace\\TenShop\\resource\\WarehouseManagerSystem\\src\\WarehouseManagerVue\\node_modules\\vue-loader\\lib\\index.js","mtime":1677927577316}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQogICAgZXhwb3J0IGRlZmF1bHQgew0KICAgICAgICBuYW1lOiAiUmVjb3JkTWFuYWdlIiwNCiAgICAgICAgZGF0YSgpIHsNCg0KICAgICAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgICAgICB1c2VyIDogSlNPTi5wYXJzZShzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCdDdXJVc2VyJykpLA0KICAgICAgICAgICAgICAgIHN0b3JhZ2VEYXRhOltdLA0KICAgICAgICAgICAgICAgIGdvb2RzdHlwZURhdGE6W10sDQogICAgICAgICAgICAgICAgdGFibGVEYXRhOiBbXSwNCiAgICAgICAgICAgICAgICBwYWdlU2l6ZToxMCwNCiAgICAgICAgICAgICAgICBwYWdlTnVtOjEsDQogICAgICAgICAgICAgICAgdG90YWw6MCwNCiAgICAgICAgICAgICAgICBuYW1lOicnLA0KICAgICAgICAgICAgICAgIHN0b3JhZ2U6JycsDQogICAgICAgICAgICAgICAgZ29vZHN0eXBlOicnLA0KICAgICAgICAgICAgICAgIGNlbnRlckRpYWxvZ1Zpc2libGU6ZmFsc2UsDQogICAgICAgICAgICAgICAgZm9ybTp7DQogICAgICAgICAgICAgICAgICAgIGlkOicnLA0KICAgICAgICAgICAgICAgICAgICBuYW1lOicnLA0KICAgICAgICAgICAgICAgICAgICBzdG9yYWdlOicnLA0KICAgICAgICAgICAgICAgICAgICBnb29kc3R5cGU6JycsDQogICAgICAgICAgICAgICAgICAgIGNvdW50OicnLA0KICAgICAgICAgICAgICAgICAgICByZW1hcms6JycNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgfQ0KICAgICAgICB9LA0KICAgICAgICBtZXRob2RzOnsNCiAgICAgICAgICAgIGZvcm1hdFN0b3JhZ2Uocm93KXsNCiAgICAgICAgICAgICAgICBsZXQgdGVtcCA9ICB0aGlzLnN0b3JhZ2VEYXRhLmZpbmQoaXRlbT0+ew0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gaXRlbS5pZCA9PSByb3cuc3RvcmFnZQ0KICAgICAgICAgICAgICAgIH0pDQoNCiAgICAgICAgICAgICAgICByZXR1cm4gdGVtcCAmJiB0ZW1wLm5hbWUNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICBmb3JtYXRHb29kc3R5cGUocm93KXsNCiAgICAgICAgICAgICAgICBsZXQgdGVtcCA9ICB0aGlzLmdvb2RzdHlwZURhdGEuZmluZChpdGVtPT57DQogICAgICAgICAgICAgICAgICAgIHJldHVybiBpdGVtLmlkID09IHJvdy5nb29kc3R5cGUNCiAgICAgICAgICAgICAgICB9KQ0KDQogICAgICAgICAgICAgICAgcmV0dXJuIHRlbXAgJiYgdGVtcC5uYW1lDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgcmVzZXRGb3JtKCkgew0KICAgICAgICAgICAgICAgIHRoaXMuJHJlZnMuZm9ybS5yZXNldEZpZWxkcygpOw0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIGhhbmRsZVNpemVDaGFuZ2UodmFsKSB7DQogICAgICAgICAgICAgICAgY29uc29sZS5sb2coYOavj+mhtSAke3ZhbH0g5p2hYCk7DQogICAgICAgICAgICAgICAgdGhpcy5wYWdlTnVtPTENCiAgICAgICAgICAgICAgICB0aGlzLnBhZ2VTaXplPXZhbA0KICAgICAgICAgICAgICAgIHRoaXMubG9hZFBvc3QoKQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIGhhbmRsZUN1cnJlbnRDaGFuZ2UodmFsKSB7DQogICAgICAgICAgICAgICAgY29uc29sZS5sb2coYOW9k+WJjemhtTogJHt2YWx9YCk7DQogICAgICAgICAgICAgICAgdGhpcy5wYWdlTnVtPXZhbA0KICAgICAgICAgICAgICAgIHRoaXMubG9hZFBvc3QoKQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIHJlc2V0UGFyYW0oKXsNCiAgICAgICAgICAgICAgICB0aGlzLm5hbWU9JycNCiAgICAgICAgICAgICAgICB0aGlzLnN0b3JhZ2U9JycNCiAgICAgICAgICAgICAgICB0aGlzLmdvb2RzdHlwZT0nJw0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIGxvYWRTdG9yYWdlKCl7DQogICAgICAgICAgICAgICAgdGhpcy4kYXhpb3MuZ2V0KHRoaXMuJGh0dHBVcmwrJy9zdG9yYWdlL2xpc3QnKS50aGVuKHJlcz0+cmVzLmRhdGEpLnRoZW4ocmVzPT57DQogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlcykNCiAgICAgICAgICAgICAgICAgICAgaWYocmVzLmNvZGU9PTIwMCl7DQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0b3JhZ2VEYXRhPXJlcy5kYXRhDQogICAgICAgICAgICAgICAgICAgIH1lbHNlew0KICAgICAgICAgICAgICAgICAgICAgICAgYWxlcnQoJ+iOt+WPluaVsOaNruWksei0pScpDQogICAgICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgbG9hZEdvb2RzdHlwZSgpew0KICAgICAgICAgICAgICAgIHRoaXMuJGF4aW9zLmdldCh0aGlzLiRodHRwVXJsKycvZ29vZHN0eXBlL2xpc3QnKS50aGVuKHJlcz0+cmVzLmRhdGEpLnRoZW4ocmVzPT57DQogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlcykNCiAgICAgICAgICAgICAgICAgICAgaWYocmVzLmNvZGU9PTIwMCl7DQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmdvb2RzdHlwZURhdGE9cmVzLmRhdGENCiAgICAgICAgICAgICAgICAgICAgfWVsc2V7DQogICAgICAgICAgICAgICAgICAgICAgICBhbGVydCgn6I635Y+W5pWw5o2u5aSx6LSlJykNCiAgICAgICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICBsb2FkUG9zdCgpew0KICAgICAgICAgICAgICAgIHRoaXMuJGF4aW9zLnBvc3QodGhpcy4kaHR0cFVybCsnL3JlY29yZC9saXN0UGFnZScsew0KICAgICAgICAgICAgICAgICAgICBwYWdlU2l6ZTp0aGlzLnBhZ2VTaXplLA0KICAgICAgICAgICAgICAgICAgICBwYWdlTnVtOnRoaXMucGFnZU51bSwNCiAgICAgICAgICAgICAgICAgICAgcGFyYW06ew0KICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTp0aGlzLm5hbWUsDQogICAgICAgICAgICAgICAgICAgICAgICBnb29kc3R5cGU6dGhpcy5nb29kc3R5cGUrJycsDQogICAgICAgICAgICAgICAgICAgICAgICBzdG9yYWdlOnRoaXMuc3RvcmFnZSsnJywNCiAgICAgICAgICAgICAgICAgICAgICAgIHJvbGVJZDp0aGlzLnVzZXIucm9sZUlkKycnLA0KICAgICAgICAgICAgICAgICAgICAgICAgdXNlcklkOnRoaXMudXNlci5pZCsnJw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfSkudGhlbihyZXM9PnJlcy5kYXRhKS50aGVuKHJlcz0+ew0KICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXMpDQogICAgICAgICAgICAgICAgICAgIGlmKHJlcy5jb2RlPT0yMDApew0KICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50YWJsZURhdGE9cmVzLmRhdGENCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudG90YWw9cmVzLnRvdGFsDQogICAgICAgICAgICAgICAgICAgIH1lbHNlew0KICAgICAgICAgICAgICAgICAgICAgICAgYWxlcnQoJ+iOt+WPluaVsOaNruWksei0pScpDQogICAgICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICB9LA0KICAgICAgICB9LA0KICAgICAgICBiZWZvcmVNb3VudCgpIHsNCiAgICAgICAgICAgIHRoaXMubG9hZFN0b3JhZ2UoKQ0KICAgICAgICAgICAgdGhpcy5sb2FkR29vZHN0eXBlKCkNCiAgICAgICAgICAgIHRoaXMubG9hZFBvc3QoKQ0KDQogICAgICAgIH0NCiAgICB9DQo="},{"version":3,"sources":["RecordManage.vue"],"names":[],"mappings":";AA+DA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA","file":"RecordManage.vue","sourceRoot":"src/components/record","sourcesContent":["<template>\r\n    <div>\r\n        <div style=\"margin-bottom: 5px;\">\r\n            <el-input v-model=\"name\" placeholder=\"请输入物品名\" suffix-icon=\"el-icon-search\" style=\"width: 200px;\"\r\n                      @keyup.enter.native=\"loadPost\"></el-input>\r\n            <el-select v-model=\"storage\" placeholder=\"请选择仓库\" style=\"margin-left: 5px;\">\r\n                <el-option\r\n                        v-for=\"item in storageData\"\r\n                        :key=\"item.id\"\r\n                        :label=\"item.name\"\r\n                        :value=\"item.id\">\r\n                </el-option>\r\n            </el-select>\r\n            <el-select v-model=\"goodstype\" placeholder=\"请选择分类\" style=\"margin-left: 5px;\">\r\n                <el-option\r\n                        v-for=\"item in goodstypeData\"\r\n                        :key=\"item.id\"\r\n                        :label=\"item.name\"\r\n                        :value=\"item.id\">\r\n                </el-option>\r\n            </el-select>\r\n\r\n            <el-button type=\"primary\" style=\"margin-left: 5px;\" @click=\"loadPost\">查询</el-button>\r\n            <el-button type=\"success\" @click=\"resetParam\">重置</el-button>\r\n\r\n\r\n        </div>\r\n        <el-table :data=\"tableData\"\r\n                  :header-cell-style=\"{ background: '#f2f5fc', color: '#555555' }\"\r\n                  border\r\n        >\r\n            <el-table-column prop=\"id\" label=\"ID\" width=\"60\">\r\n            </el-table-column>\r\n            <el-table-column prop=\"goodsname\" label=\"物品名\" width=\"150\">\r\n            </el-table-column>\r\n            <el-table-column prop=\"storagename\" label=\"仓库\" width=\"150\">\r\n            </el-table-column>\r\n            <el-table-column prop=\"goodstypename\" label=\"分类\" width=\"150\">\r\n            </el-table-column>\r\n            <el-table-column prop=\"adminname\" label=\"操作人\" width=\"150\">\r\n            </el-table-column>\r\n            <el-table-column prop=\"username\" label=\"申请人\" width=\"150\">\r\n            </el-table-column>\r\n            <el-table-column prop=\"count\" label=\"数量\" width=\"150\">\r\n            </el-table-column>\r\n            <el-table-column prop=\"createtime\" label=\"操作时间\" width=\"180\">\r\n            </el-table-column>\r\n            <el-table-column prop=\"remark\" label=\"备注\" width=\"180\">\r\n            </el-table-column>\r\n        </el-table>\r\n        <el-pagination\r\n                @size-change=\"handleSizeChange\"\r\n                @current-change=\"handleCurrentChange\"\r\n                :current-page=\"pageNum\"\r\n                :page-sizes=\"[5, 10, 20,30]\"\r\n                :page-size=\"pageSize\"\r\n                layout=\"total, sizes, prev, pager, next, jumper\"\r\n                :total=\"total\">\r\n        </el-pagination>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        name: \"RecordManage\",\r\n        data() {\r\n\r\n            return {\r\n                user : JSON.parse(sessionStorage.getItem('CurUser')),\r\n                storageData:[],\r\n                goodstypeData:[],\r\n                tableData: [],\r\n                pageSize:10,\r\n                pageNum:1,\r\n                total:0,\r\n                name:'',\r\n                storage:'',\r\n                goodstype:'',\r\n                centerDialogVisible:false,\r\n                form:{\r\n                    id:'',\r\n                    name:'',\r\n                    storage:'',\r\n                    goodstype:'',\r\n                    count:'',\r\n                    remark:''\r\n                },\r\n            }\r\n        },\r\n        methods:{\r\n            formatStorage(row){\r\n                let temp =  this.storageData.find(item=>{\r\n                    return item.id == row.storage\r\n                })\r\n\r\n                return temp && temp.name\r\n            },\r\n            formatGoodstype(row){\r\n                let temp =  this.goodstypeData.find(item=>{\r\n                    return item.id == row.goodstype\r\n                })\r\n\r\n                return temp && temp.name\r\n            },\r\n            resetForm() {\r\n                this.$refs.form.resetFields();\r\n            },\r\n            handleSizeChange(val) {\r\n                console.log(`每页 ${val} 条`);\r\n                this.pageNum=1\r\n                this.pageSize=val\r\n                this.loadPost()\r\n            },\r\n            handleCurrentChange(val) {\r\n                console.log(`当前页: ${val}`);\r\n                this.pageNum=val\r\n                this.loadPost()\r\n            },\r\n            resetParam(){\r\n                this.name=''\r\n                this.storage=''\r\n                this.goodstype=''\r\n            },\r\n            loadStorage(){\r\n                this.$axios.get(this.$httpUrl+'/storage/list').then(res=>res.data).then(res=>{\r\n                    console.log(res)\r\n                    if(res.code==200){\r\n                        this.storageData=res.data\r\n                    }else{\r\n                        alert('获取数据失败')\r\n                    }\r\n\r\n                })\r\n            },\r\n            loadGoodstype(){\r\n                this.$axios.get(this.$httpUrl+'/goodstype/list').then(res=>res.data).then(res=>{\r\n                    console.log(res)\r\n                    if(res.code==200){\r\n                        this.goodstypeData=res.data\r\n                    }else{\r\n                        alert('获取数据失败')\r\n                    }\r\n\r\n                })\r\n            },\r\n            loadPost(){\r\n                this.$axios.post(this.$httpUrl+'/record/listPage',{\r\n                    pageSize:this.pageSize,\r\n                    pageNum:this.pageNum,\r\n                    param:{\r\n                        name:this.name,\r\n                        goodstype:this.goodstype+'',\r\n                        storage:this.storage+'',\r\n                        roleId:this.user.roleId+'',\r\n                        userId:this.user.id+''\r\n                    }\r\n                }).then(res=>res.data).then(res=>{\r\n                    console.log(res)\r\n                    if(res.code==200){\r\n                        this.tableData=res.data\r\n                        this.total=res.total\r\n                    }else{\r\n                        alert('获取数据失败')\r\n                    }\r\n\r\n                })\r\n            },\r\n        },\r\n        beforeMount() {\r\n            this.loadStorage()\r\n            this.loadGoodstype()\r\n            this.loadPost()\r\n\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>"]}]}